var Ao=Object.defineProperty;var jr=t=>{throw TypeError(t)};var zo=(t,e,n)=>e in t?Ao(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ie=(t,e,n)=>zo(t,typeof e!="symbol"?e+"":e,n),Zn=(t,e,n)=>e.has(t)||jr("Cannot "+n);var U=(t,e,n)=>(Zn(t,e,"read from private field"),n?n.call(t):e.get(t)),mt=(t,e,n)=>e.has(t)?jr("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Vn=(t,e,n,r)=>(Zn(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Br=(t,e,n)=>(Zn(t,e,"access private method"),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();const Zr=!1;var Ge=Array.isArray,No=Array.prototype.indexOf,Sr=Array.from,ko=Object.defineProperty,Xt=Object.getOwnPropertyDescriptor,wi=Object.getOwnPropertyDescriptors,xi=Object.prototype,Mo=Array.prototype,Sn=Object.getPrototypeOf,Vr=Object.isExtensible;function Co(t){return typeof t=="function"}const se=()=>{};function Oo(t){return t()}function un(t){for(var e=0;e<t.length;e++)t[e]()}const bt=2,Si=4,En=8,In=16,$t=32,ve=64,ln=128,lt=256,fn=512,et=1024,Nt=2048,Kt=4096,Rt=8192,Tn=16384,Ei=32768,An=65536,Po=1<<17,Lo=1<<19,Ii=1<<20,er=1<<21,te=Symbol("$state"),Do=Symbol("legacy props"),Ro=Symbol("");function Ti(t){return t===this.v}function Ai(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function $o(t,e){return t!==e}function Er(t){return!Ai(t,this.v)}function Fo(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function jo(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Bo(t){throw new Error("https://svelte.dev/e/effect_orphan")}function Zo(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Vo(t){throw new Error("https://svelte.dev/e/props_invalid_value")}function Uo(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function qo(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Go(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let ge=!1,Ho=!1;function Ko(){ge=!0}const Ir=1,Tr=2,zi=4,Wo=8,Yo=16,Jo=1,Qo=2,Xo=4,ts=8,es=16,ns=1,rs=2,is=4,Ni=1,os=2,J=Symbol(),ss="http://www.w3.org/1999/xhtml",as=[];function us(t,e=!1){return on(t,new Map,"",as)}function on(t,e,n,r,i=null){if(typeof t=="object"&&t!==null){var o=e.get(t);if(o!==void 0)return o;if(t instanceof Map)return new Map(t);if(t instanceof Set)return new Set(t);if(Ge(t)){var u=Array(t.length);e.set(t,u),i!==null&&e.set(i,u);for(var a=0;a<t.length;a+=1){var s=t[a];a in t&&(u[a]=on(s,e,n,r))}return u}if(Sn(t)===xi){u={},e.set(t,u),i!==null&&e.set(i,u);for(var l in t)u[l]=on(t[l],e,n,r);return u}if(t instanceof Date)return structuredClone(t);if(typeof t.toJSON=="function")return on(t.toJSON(),e,n,r,t)}if(t instanceof EventTarget)return t;try{return structuredClone(t)}catch{return t}}function Ar(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let F=null;function Ur(t){F=t}function ft(t,e=!1,n){var r=F={p:F,c:null,d:!1,e:null,m:!1,s:t,x:null,l:null};ge&&!e&&(F.l={s:null,u:null,r1:[],r2:Pe(!1)}),Nr(()=>{r.d=!0})}function ct(t){const e=F;if(e!==null){t!==void 0&&(e.x=t);const u=e.e;if(u!==null){var n=R,r=$;e.e=null;try{for(var i=0;i<u.length;i++){var o=u[i];kt(o.effect),vt(o.reaction),pe(o.fn)}}finally{kt(n),vt(r)}}F=e.p,e.m=!0}return t||{}}function _e(){return!ge||F!==null&&F.l===null}function Qt(t){if(typeof t!="object"||t===null||te in t)return t;const e=Sn(t);if(e!==xi&&e!==Mo)return t;var n=new Map,r=Ge(t),i=D(0),o=$,u=a=>{var s=$;vt(o);var l=a();return vt(s),l};return r&&n.set("length",D(t.length)),new Proxy(t,{defineProperty(a,s,l){(!("value"in l)||l.configurable===!1||l.enumerable===!1||l.writable===!1)&&Uo();var f=n.get(s);return f===void 0?(f=u(()=>D(l.value)),n.set(s,f)):A(f,u(()=>Qt(l.value))),!0},deleteProperty(a,s){var l=n.get(s);if(l===void 0)s in a&&(n.set(s,u(()=>D(J))),Un(i));else{if(r&&typeof s=="string"){var f=n.get("length"),d=Number(s);Number.isInteger(d)&&d<f.v&&A(f,d)}A(l,J),Un(i)}return!0},get(a,s,l){var v;if(s===te)return t;var f=n.get(s),d=s in a;if(f===void 0&&(!d||(v=Xt(a,s))!=null&&v.writable)&&(f=u(()=>D(Qt(d?a[s]:J))),n.set(s,f)),f!==void 0){var c=g(f);return c===J?void 0:c}return Reflect.get(a,s,l)},getOwnPropertyDescriptor(a,s){var l=Reflect.getOwnPropertyDescriptor(a,s);if(l&&"value"in l){var f=n.get(s);f&&(l.value=g(f))}else if(l===void 0){var d=n.get(s),c=d==null?void 0:d.v;if(d!==void 0&&c!==J)return{enumerable:!0,configurable:!0,value:c,writable:!0}}return l},has(a,s){var c;if(s===te)return!0;var l=n.get(s),f=l!==void 0&&l.v!==J||Reflect.has(a,s);if(l!==void 0||R!==null&&(!f||(c=Xt(a,s))!=null&&c.writable)){l===void 0&&(l=u(()=>D(f?Qt(a[s]):J)),n.set(s,l));var d=g(l);if(d===J)return!1}return f},set(a,s,l,f){var b;var d=n.get(s),c=s in a;if(r&&s==="length")for(var v=l;v<d.v;v+=1){var p=n.get(v+"");p!==void 0?A(p,J):v in a&&(p=u(()=>D(J)),n.set(v+"",p))}d===void 0?(!c||(b=Xt(a,s))!=null&&b.writable)&&(d=u(()=>D(void 0)),A(d,u(()=>Qt(l))),n.set(s,d)):(c=d.v!==J,A(d,u(()=>Qt(l))));var _=Reflect.getOwnPropertyDescriptor(a,s);if(_!=null&&_.set&&_.set.call(f,l),!c){if(r&&typeof s=="string"){var h=n.get("length"),y=Number(s);Number.isInteger(y)&&y>=h.v&&A(h,y+1)}Un(i)}return!0},ownKeys(a){g(i);var s=Reflect.ownKeys(a).filter(d=>{var c=n.get(d);return c===void 0||c.v!==J});for(var[l,f]of n)f.v!==J&&!(l in a)&&s.push(l);return s},setPrototypeOf(){qo()}})}function Un(t,e=1){A(t,t.v+e)}function ce(t){var e=bt|Nt,n=$!==null&&($.f&bt)!==0?$:null;return R===null||n!==null&&(n.f&lt)!==0?e|=lt:R.f|=Ii,{ctx:F,deps:null,effects:null,equals:Ti,f:e,fn:t,reactions:null,rv:0,v:null,wv:0,parent:n??R}}function M(t){const e=ce(t);return qi(e),e}function ki(t){const e=ce(t);return e.equals=Er,e}function Mi(t){var e=t.effects;if(e!==null){t.effects=null;for(var n=0;n<e.length;n+=1)Ht(e[n])}}function ls(t){for(var e=t.parent;e!==null;){if((e.f&bt)===0)return e;e=e.parent}return null}function Ci(t){var e,n=R;kt(ls(t));try{Mi(t),e=Wi(t)}finally{kt(n)}return e}function Oi(t){var e=Ci(t),n=(Vt||(t.f&lt)!==0)&&t.deps!==null?Kt:et;_t(t,n),t.equals(e)||(t.v=e,t.wv=Hi())}const Oe=new Map;function Pe(t,e){var n={f:0,v:t,reactions:null,equals:Ti,rv:0,wv:0};return n}function D(t,e){const n=Pe(t);return qi(n),n}function jt(t,e=!1){var r;const n=Pe(t);return e||(n.equals=Er),ge&&F!==null&&F.l!==null&&((r=F.l).s??(r.s=[])).push(n),n}function fs(t,e){return A(t,gt(()=>g(t))),e}function A(t,e,n=!1){$!==null&&!Tt&&_e()&&($.f&(bt|In))!==0&&!(tt!=null&&tt.includes(t))&&Go();let r=n?Qt(e):e;return nr(t,r)}function nr(t,e){if(!t.equals(e)){var n=t.v;We?Oe.set(t,e):Oe.set(t,n),t.v=e,(t.f&bt)!==0&&((t.f&Nt)!==0&&Ci(t),_t(t,(t.f&lt)===0?et:Kt)),t.wv=Hi(),Pi(t,Nt),_e()&&R!==null&&(R.f&et)!==0&&(R.f&($t|ve))===0&&(ht===null?ws([t]):ht.push(t))}return e}function Pi(t,e){var n=t.reactions;if(n!==null)for(var r=_e(),i=n.length,o=0;o<i;o++){var u=n[o],a=u.f;(a&Nt)===0&&(!r&&u===R||(_t(u,e),(a&(et|lt))!==0&&((a&bt)!==0?Pi(u,Kt):Cn(u))))}}let cs=!1;var At,Li,Di,Ri;function ds(){if(At===void 0){At=window,Li=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,n=Text.prototype;Di=Xt(e,"firstChild").get,Ri=Xt(e,"nextSibling").get,Vr(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),Vr(n)&&(n.__t=void 0)}}function zr(t=""){return document.createTextNode(t)}function Pt(t){return Di.call(t)}function zn(t){return Ri.call(t)}function z(t,e){return Pt(t)}function qt(t,e){{var n=Pt(t);return n instanceof Comment&&n.data===""?zn(n):n}}function O(t,e=1,n=!1){let r=t;for(;e--;)r=zn(r);return r}function hs(t){t.textContent=""}function $i(t){R===null&&$===null&&Bo(),$!==null&&($.f&lt)!==0&&R===null&&jo(),We&&Fo()}function vs(t,e){var n=e.last;n===null?e.last=e.first=t:(n.next=t,t.prev=n,e.last=t)}function me(t,e,n,r=!0){var i=R,o={ctx:F,deps:null,nodes_start:null,nodes_end:null,f:t|Nt,first:null,fn:e,last:null,next:null,parent:i,prev:null,teardown:null,transitions:null,wv:0};if(n)try{Mn(o),o.f|=Ei}catch(s){throw Ht(o),s}else e!==null&&Cn(o);var u=n&&o.deps===null&&o.first===null&&o.nodes_start===null&&o.teardown===null&&(o.f&(Ii|ln))===0;if(!u&&r&&(i!==null&&vs(o,i),$!==null&&($.f&bt)!==0)){var a=$;(a.effects??(a.effects=[])).push(o)}return o}function Nr(t){const e=me(En,null,!1);return _t(e,et),e.teardown=t,e}function Gt(t){$i();var e=R!==null&&(R.f&$t)!==0&&F!==null&&!F.m;if(e){var n=F;(n.e??(n.e=[])).push({fn:t,effect:R,reaction:$})}else{var r=pe(t);return r}}function gs(t){return $i(),He(t)}function _s(t){const e=me(ve,t,!0);return(n={})=>new Promise(r=>{n.outro?Le(e,()=>{Ht(e),r(void 0)}):(Ht(e),r(void 0))})}function pe(t){return me(Si,t,!1)}function qn(t,e){var n=F,r={effect:null,ran:!1};n.l.r1.push(r),r.effect=He(()=>{t(),!r.ran&&(r.ran=!0,A(n.l.r2,!0),gt(e))})}function ms(){var t=F;He(()=>{if(g(t.l.r2)){for(var e of t.l.r1){var n=e.effect;(n.f&et)!==0&&_t(n,Kt),ye(n)&&Mn(n),e.ran=!1}t.l.r2.v=!1}})}function He(t){return me(En,t,!0)}function Z(t,e=[],n=ce){const r=e.map(n);return Nn(()=>t(...r.map(g)))}function Nn(t,e=0){return me(En|In|e,t,!0)}function de(t,e=!0){return me(En|$t,t,!0,e)}function Fi(t){var e=t.teardown;if(e!==null){const n=We,r=$;Gr(!0),vt(null);try{e.call(null)}finally{Gr(n),vt(r)}}}function ji(t,e=!1){var n=t.first;for(t.first=t.last=null;n!==null;){var r=n.next;(n.f&ve)!==0?n.parent=null:Ht(n,e),n=r}}function ps(t){for(var e=t.first;e!==null;){var n=e.next;(e.f&$t)===0&&Ht(e),e=n}}function Ht(t,e=!0){var n=!1;(e||(t.f&Lo)!==0)&&t.nodes_start!==null&&(ys(t.nodes_start,t.nodes_end),n=!0),ji(t,e&&!n),gn(t,0),_t(t,Tn);var r=t.transitions;if(r!==null)for(const o of r)o.stop();Fi(t);var i=t.parent;i!==null&&i.first!==null&&Bi(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=null}function ys(t,e){for(;t!==null;){var n=t===e?null:zn(t);t.remove(),t=n}}function Bi(t){var e=t.parent,n=t.prev,r=t.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),e!==null&&(e.first===t&&(e.first=r),e.last===t&&(e.last=n))}function Le(t,e){var n=[];kr(t,n,!0),Zi(n,()=>{Ht(t),e&&e()})}function Zi(t,e){var n=t.length;if(n>0){var r=()=>--n||e();for(var i of t)i.out(r)}else e()}function kr(t,e,n){if((t.f&Rt)===0){if(t.f^=Rt,t.transitions!==null)for(const u of t.transitions)(u.is_global||n)&&e.push(u);for(var r=t.first;r!==null;){var i=r.next,o=(r.f&An)!==0||(r.f&$t)!==0;kr(r,e,o?n:!1),r=i}}}function cn(t){Vi(t,!0)}function Vi(t,e){if((t.f&Rt)!==0){t.f^=Rt,(t.f&et)===0&&(t.f^=et),ye(t)&&(_t(t,Nt),Cn(t));for(var n=t.first;n!==null;){var r=n.next,i=(n.f&An)!==0||(n.f&$t)!==0;Vi(n,i?e:!1),n=r}if(t.transitions!==null)for(const o of t.transitions)(o.is_global||e)&&o.in()}}let De=[],rr=[];function Ui(){var t=De;De=[],un(t)}function bs(){var t=rr;rr=[],un(t)}function Ke(t){De.length===0&&queueMicrotask(Ui),De.push(t)}function qr(){De.length>0&&Ui(),rr.length>0&&bs()}let sn=!1,dn=!1,hn=null,ee=!1,We=!1;function Gr(t){We=t}let ke=[];let $=null,Tt=!1;function vt(t){$=t}let R=null;function kt(t){R=t}let tt=null;function qi(t){$!==null&&$.f&er&&(tt===null?tt=[t]:tt.push(t))}let Q=null,at=0,ht=null;function ws(t){ht=t}let Gi=1,vn=0,Vt=!1;function Hi(){return++Gi}function ye(t){var d;var e=t.f;if((e&Nt)!==0)return!0;if((e&Kt)!==0){var n=t.deps,r=(e&lt)!==0;if(n!==null){var i,o,u=(e&fn)!==0,a=r&&R!==null&&!Vt,s=n.length;if(u||a){var l=t,f=l.parent;for(i=0;i<s;i++)o=n[i],(u||!((d=o==null?void 0:o.reactions)!=null&&d.includes(l)))&&(o.reactions??(o.reactions=[])).push(l);u&&(l.f^=fn),a&&f!==null&&(f.f&lt)===0&&(l.f^=lt)}for(i=0;i<s;i++)if(o=n[i],ye(o)&&Oi(o),o.wv>t.wv)return!0}(!r||R!==null&&!Vt)&&_t(t,et)}return!1}function xs(t,e){for(var n=e;n!==null;){if((n.f&ln)!==0)try{n.fn(t);return}catch{n.f^=ln}n=n.parent}throw sn=!1,t}function Hr(t){return(t.f&Tn)===0&&(t.parent===null||(t.parent.f&ln)===0)}function kn(t,e,n,r){if(sn){if(n===null&&(sn=!1),Hr(e))throw t;return}if(n!==null&&(sn=!0),xs(t,e),Hr(e))throw t}function Ki(t,e,n=!0){var r=t.reactions;if(r!==null)for(var i=0;i<r.length;i++){var o=r[i];tt!=null&&tt.includes(t)||((o.f&bt)!==0?Ki(o,e,!1):e===o&&(n?_t(o,Nt):(o.f&et)!==0&&_t(o,Kt),Cn(o)))}}function Wi(t){var v;var e=Q,n=at,r=ht,i=$,o=Vt,u=tt,a=F,s=Tt,l=t.f;Q=null,at=0,ht=null,Vt=(l&lt)!==0&&(Tt||!ee||$===null),$=(l&($t|ve))===0?t:null,tt=null,Ur(t.ctx),Tt=!1,vn++,t.f|=er;try{var f=(0,t.fn)(),d=t.deps;if(Q!==null){var c;if(gn(t,at),d!==null&&at>0)for(d.length=at+Q.length,c=0;c<Q.length;c++)d[at+c]=Q[c];else t.deps=d=Q;if(!Vt)for(c=at;c<d.length;c++)((v=d[c]).reactions??(v.reactions=[])).push(t)}else d!==null&&at<d.length&&(gn(t,at),d.length=at);if(_e()&&ht!==null&&!Tt&&d!==null&&(t.f&(bt|Kt|Nt))===0)for(c=0;c<ht.length;c++)Ki(ht[c],t);return i!==null&&i!==t&&(vn++,ht!==null&&(r===null?r=ht:r.push(...ht))),f}finally{Q=e,at=n,ht=r,$=i,Vt=o,tt=u,Ur(a),Tt=s,t.f^=er}}function Ss(t,e){let n=e.reactions;if(n!==null){var r=No.call(n,t);if(r!==-1){var i=n.length-1;i===0?n=e.reactions=null:(n[r]=n[i],n.pop())}}n===null&&(e.f&bt)!==0&&(Q===null||!Q.includes(e))&&(_t(e,Kt),(e.f&(lt|fn))===0&&(e.f^=fn),Mi(e),gn(e,0))}function gn(t,e){var n=t.deps;if(n!==null)for(var r=e;r<n.length;r++)Ss(t,n[r])}function Mn(t){var e=t.f;if((e&Tn)===0){_t(t,et);var n=R,r=F,i=ee;R=t,ee=!0;try{(e&In)!==0?ps(t):ji(t),Fi(t);var o=Wi(t);t.teardown=typeof o=="function"?o:null,t.wv=Gi;var u=t.deps,a;Zr&&Ho&&t.f&Nt}catch(s){kn(s,t,n,r||t.ctx)}finally{ee=i,R=n}}}function Es(){try{Zo()}catch(t){if(hn!==null)kn(t,hn,null);else throw t}}function Yi(){var t=ee;try{var e=0;for(ee=!0;ke.length>0;){e++>1e3&&Es();var n=ke,r=n.length;ke=[];for(var i=0;i<r;i++){var o=Ts(n[i]);Is(o)}Oe.clear()}}finally{dn=!1,ee=t,hn=null}}function Is(t){var e=t.length;if(e!==0)for(var n=0;n<e;n++){var r=t[n];if((r.f&(Tn|Rt))===0)try{ye(r)&&(Mn(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?Bi(r):r.fn=null))}catch(i){kn(i,r,null,r.ctx)}}}function Cn(t){dn||(dn=!0,queueMicrotask(Yi));for(var e=hn=t;e.parent!==null;){e=e.parent;var n=e.f;if((n&(ve|$t))!==0){if((n&et)===0)return;e.f^=et}}ke.push(e)}function Ts(t){for(var e=[],n=t;n!==null;){var r=n.f,i=(r&($t|ve))!==0,o=i&&(r&et)!==0;if(!o&&(r&Rt)===0){if((r&Si)!==0)e.push(n);else if(i)n.f^=et;else try{ye(n)&&Mn(n)}catch(s){kn(s,n,null,n.ctx)}var u=n.first;if(u!==null){n=u;continue}}var a=n.parent;for(n=n.next;n===null&&a!==null;)n=a.next,a=a.parent}return e}function st(t){var e;for(qr();ke.length>0;)dn=!0,Yi(),qr();return e}function g(t){var e=t.f,n=(e&bt)!==0;if($!==null&&!Tt){if(!(tt!=null&&tt.includes(t))){var r=$.deps;t.rv<vn&&(t.rv=vn,Q===null&&r!==null&&r[at]===t?at++:Q===null?Q=[t]:(!Vt||!Q.includes(t))&&Q.push(t))}}else if(n&&t.deps===null&&t.effects===null){var i=t,o=i.parent;o!==null&&(o.f&lt)===0&&(i.f^=lt)}return n&&(i=t,ye(i)&&Oi(i)),We&&Oe.has(t)?Oe.get(t):t.v}function gt(t){var e=Tt;try{return Tt=!0,t()}finally{Tt=e}}const As=-7169;function _t(t,e){t.f=t.f&As|e}function It(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(te in t)ir(t);else if(!Array.isArray(t))for(let e in t){const n=t[e];typeof n=="object"&&n&&te in n&&ir(n)}}}function ir(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let r in t)try{ir(t[r],e)}catch{}const n=Sn(t);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=wi(n);for(let i in r){const o=r[i].get;if(o)try{o.call(t)}catch{}}}}}function zs(t){return t.endsWith("capture")&&t!=="gotpointercapture"&&t!=="lostpointercapture"}const Ns=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function ks(t){return Ns.includes(t)}const Ms={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function Cs(t){return t=t.toLowerCase(),Ms[t]??t}const Os=["touchstart","touchmove"];function Ps(t){return Os.includes(t)}function Ls(t,e){if(e){const n=document.body;t.autofocus=!0,Ke(()=>{document.activeElement===n&&t.focus()})}}let Kr=!1;function Ds(){Kr||(Kr=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{var e;if(!t.defaultPrevented)for(const n of t.target.elements)(e=n.__on_r)==null||e.call(n)})},{capture:!0}))}function Mr(t){var e=$,n=R;vt(null),kt(null);try{return t()}finally{vt(e),kt(n)}}function Rs(t,e,n,r=n){t.addEventListener(e,()=>Mr(n));const i=t.__on_r;i?t.__on_r=()=>{i(),r(!0)}:t.__on_r=()=>r(!0),Ds()}const Ji=new Set,or=new Set;function Cr(t,e,n,r={}){function i(o){if(r.capture||Ae.call(e,o),!o.cancelBubble)return Mr(()=>n==null?void 0:n.call(this,o))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?Ke(()=>{e.addEventListener(t,i,r)}):e.addEventListener(t,i,r),i}function Wr(t,e,n,r={}){var i=Cr(e,t,n,r);return()=>{t.removeEventListener(e,i,r)}}function pt(t,e,n,r,i){var o={capture:r,passive:i},u=Cr(t,e,n,o);(e===document.body||e===window||e===document)&&Nr(()=>{e.removeEventListener(t,u,o)})}function Ye(t){for(var e=0;e<t.length;e++)Ji.add(t[e]);for(var n of or)n(t)}function Ae(t){var b;var e=this,n=e.ownerDocument,r=t.type,i=((b=t.composedPath)==null?void 0:b.call(t))||[],o=i[0]||t.target,u=0,a=t.__root;if(a){var s=i.indexOf(a);if(s!==-1&&(e===document||e===window)){t.__root=e;return}var l=i.indexOf(e);if(l===-1)return;s<=l&&(u=s)}if(o=i[u]||t.target,o!==e){ko(t,"currentTarget",{configurable:!0,get(){return o||n}});var f=$,d=R;vt(null),kt(null);try{for(var c,v=[];o!==null;){var p=o.assignedSlot||o.parentNode||o.host||null;try{var _=o["__"+r];if(_!=null&&(!o.disabled||t.target===o))if(Ge(_)){var[h,...y]=_;h.apply(o,[t,...y])}else _.call(o,t)}catch(x){c?v.push(x):c=x}if(t.cancelBubble||p===e||p===null)break;o=p}if(c){for(let x of v)queueMicrotask(()=>{throw x});throw c}}finally{t.__root=e,delete t.currentTarget,vt(f),kt(d)}}}function Qi(t){var e=document.createElement("template");return e.innerHTML=t,e.content}function Re(t,e){var n=R;n.nodes_start===null&&(n.nodes_start=t,n.nodes_end=e)}function G(t,e){var n=(e&Ni)!==0,r=(e&os)!==0,i,o=!t.startsWith("<!>");return()=>{i===void 0&&(i=Qi(o?t:"<!>"+t),n||(i=Pt(i)));var u=r||Li?document.importNode(i,!0):i.cloneNode(!0);if(n){var a=Pt(u),s=u.lastChild;Re(a,s)}else Re(u,u);return u}}function W(t,e,n="svg"){var r=!t.startsWith("<!>"),i=(e&Ni)!==0,o=`<${n}>${r?t:"<!>"+t}</${n}>`,u;return()=>{if(!u){var a=Qi(o),s=Pt(a);if(i)for(u=document.createDocumentFragment();Pt(s);)u.appendChild(Pt(s));else u=Pt(s)}var l=u.cloneNode(!0);if(i){var f=Pt(l),d=l.lastChild;Re(f,d)}else Re(l,l);return l}}function Xi(){var t=document.createDocumentFragment(),e=document.createComment(""),n=zr();return t.append(e,n),Re(e,n),t}function k(t,e){t!==null&&t.before(e)}let sr=!0;function be(t,e){var n=e==null?"":typeof e=="object"?e+"":e;n!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=n,t.nodeValue=n+"")}function $s(t,e){return Fs(t,e)}const oe=new Map;function Fs(t,{target:e,anchor:n,props:r={},events:i,context:o,intro:u=!0}){ds();var a=new Set,s=d=>{for(var c=0;c<d.length;c++){var v=d[c];if(!a.has(v)){a.add(v);var p=Ps(v);e.addEventListener(v,Ae,{passive:p});var _=oe.get(v);_===void 0?(document.addEventListener(v,Ae,{passive:p}),oe.set(v,1)):oe.set(v,_+1)}}};s(Sr(Ji)),or.add(s);var l=void 0,f=_s(()=>{var d=n??e.appendChild(zr());return de(()=>{if(o){ft({});var c=F;c.c=o}i&&(r.$$events=i),sr=u,l=t(d,r)||{},sr=!0,o&&ct()}),()=>{var p;for(var c of a){e.removeEventListener(c,Ae);var v=oe.get(c);--v===0?(document.removeEventListener(c,Ae),oe.delete(c)):oe.set(c,v)}or.delete(s),d!==n&&((p=d.parentNode)==null||p.removeChild(d))}});return js.set(l,f),l}let js=new WeakMap;function yt(t,e,[n,r]=[0,0]){var i=t,o=null,u=null,a=J,s=n>0?An:0,l=!1;const f=(c,v=!0)=>{l=!0,d(v,c)},d=(c,v)=>{a!==(a=c)&&(a?(o?cn(o):v&&(o=de(()=>v(i))),u&&Le(u,()=>{u=null})):(u?cn(u):v&&(u=de(()=>v(i,[n+1,r]))),o&&Le(o,()=>{o=null})))};Nn(()=>{l=!1,e(f),l||d(null,null)},s)}function to(t,e,n){var r=t,i=J,o,u=_e()?$o:Ai;Nn(()=>{u(i,i=e())&&(o&&Le(o),o=de(()=>n(r)))})}function Or(t,e){return e}function Bs(t,e,n,r){for(var i=[],o=e.length,u=0;u<o;u++)kr(e[u].e,i,!0);var a=o>0&&i.length===0&&n!==null;if(a){var s=n.parentNode;hs(s),s.append(n),r.clear(),Bt(t,e[0].prev,e[o-1].next)}Zi(i,()=>{for(var l=0;l<o;l++){var f=e[l];a||(r.delete(f.k),Bt(t,f.prev,f.next)),Ht(f.e,!a)}})}function On(t,e,n,r,i,o=null){var u=t,a={flags:e,items:new Map,first:null},s=(e&zi)!==0;if(s){var l=t;u=l.appendChild(zr())}var f=null,d=!1,c=ki(()=>{var v=n();return Ge(v)?v:v==null?[]:Sr(v)});Nn(()=>{var v=g(c),p=v.length;d&&p===0||(d=p===0,Zs(v,a,u,i,e,r,n),o!==null&&(p===0?f?cn(f):f=de(()=>o(u)):f!==null&&Le(f,()=>{f=null})),g(c))})}function Zs(t,e,n,r,i,o,u){var Y,xt,Ct,Ot;var a=(i&Wo)!==0,s=(i&(Ir|Tr))!==0,l=t.length,f=e.items,d=e.first,c=d,v,p=null,_,h=[],y=[],b,x,m,S;if(a)for(S=0;S<l;S+=1)b=t[S],x=o(b,S),m=f.get(x),m!==void 0&&((Y=m.a)==null||Y.measure(),(_??(_=new Set)).add(m));for(S=0;S<l;S+=1){if(b=t[S],x=o(b,S),m=f.get(x),m===void 0){var E=c?c.e.nodes_start:n;p=Us(E,e,p,p===null?e.first:p.next,b,x,S,r,i,u),f.set(x,p),h=[],y=[],c=p.next;continue}if(s&&Vs(m,b,S,i),(m.e.f&Rt)!==0&&(cn(m.e),a&&((xt=m.a)==null||xt.unfix(),(_??(_=new Set)).delete(m))),m!==c){if(v!==void 0&&v.has(m)){if(h.length<y.length){var w=y[0],I;p=w.prev;var C=h[0],N=h[h.length-1];for(I=0;I<h.length;I+=1)Yr(h[I],w,n);for(I=0;I<y.length;I+=1)v.delete(y[I]);Bt(e,C.prev,N.next),Bt(e,p,C),Bt(e,N,w),c=w,p=N,S-=1,h=[],y=[]}else v.delete(m),Yr(m,c,n),Bt(e,m.prev,m.next),Bt(e,m,p===null?e.first:p.next),Bt(e,p,m),p=m;continue}for(h=[],y=[];c!==null&&c.k!==x;)(c.e.f&Rt)===0&&(v??(v=new Set)).add(c),y.push(c),c=c.next;if(c===null)continue;m=c}h.push(m),p=m,c=m.next}if(c!==null||v!==void 0){for(var j=v===void 0?[]:Sr(v);c!==null;)(c.e.f&Rt)===0&&j.push(c),c=c.next;var H=j.length;if(H>0){var rt=(i&zi)!==0&&l===0?n:null;if(a){for(S=0;S<H;S+=1)(Ct=j[S].a)==null||Ct.measure();for(S=0;S<H;S+=1)(Ot=j[S].a)==null||Ot.fix()}Bs(e,j,rt,f)}}a&&Ke(()=>{var P;if(_!==void 0)for(m of _)(P=m.a)==null||P.apply()}),R.first=e.first&&e.first.e,R.last=p&&p.e}function Vs(t,e,n,r){(r&Ir)!==0&&nr(t.v,e),(r&Tr)!==0?nr(t.i,n):t.i=n}function Us(t,e,n,r,i,o,u,a,s,l){var f=(s&Ir)!==0,d=(s&Yo)===0,c=f?d?jt(i):Pe(i):i,v=(s&Tr)===0?u:Pe(u),p={i:v,v:c,k:o,a:null,e:null,prev:n,next:r};try{return p.e=de(()=>a(t,c,v,l),cs),p.e.prev=n&&n.e,p.e.next=r&&r.e,n===null?e.first=p:(n.next=p,n.e.next=p.e),r!==null&&(r.prev=p,r.e.prev=p.e),p}finally{}}function Yr(t,e,n){for(var r=t.next?t.next.e.nodes_start:n,i=e?e.e.nodes_start:n,o=t.e.nodes_start;o!==r;){var u=zn(o);i.before(o),o=u}}function Bt(t,e,n){e===null?t.first=n:(e.next=n,e.e.next=n&&n.e),n!==null&&(n.prev=e,n.e.prev=e&&e.e)}function Gn(t,e,n,r,i){var a;var o=(a=e.$$slots)==null?void 0:a[n],u=!1;o===!0&&(o=e[n==="default"?"children":n],u=!0),o===void 0||o(t,u?()=>r:r)}function qs(t,e,n){pe(()=>{var r=gt(()=>e(t,n==null?void 0:n())||{});if(r!=null&&r.destroy)return()=>r.destroy()})}function eo(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=eo(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Gs(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=eo(t))&&(r&&(r+=" "),r+=e);return r}function Hs(t){return typeof t=="object"?Gs(t):t??""}const Jr=[...` 	
\r\f \v\uFEFF`];function Ks(t,e,n){var r=t==null?"":""+t;if(n){for(var i in n)if(n[i])r=r?r+" "+i:i;else if(r.length)for(var o=i.length,u=0;(u=r.indexOf(i,u))>=0;){var a=u+o;(u===0||Jr.includes(r[u-1]))&&(a===r.length||Jr.includes(r[a]))?r=(u===0?"":r.substring(0,u))+r.substring(a+1):u=a}}return r===""?null:r}function Qr(t,e=!1){var n=e?" !important;":";",r="";for(var i in t){var o=t[i];o!=null&&o!==""&&(r+=" "+i+": "+o+n)}return r}function Hn(t){return t[0]!=="-"||t[1]!=="-"?t.toLowerCase():t}function Ws(t,e){if(e){var n="",r,i;if(Array.isArray(e)?(r=e[0],i=e[1]):r=e,t){t=String(t).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var o=!1,u=0,a=!1,s=[];r&&s.push(...Object.keys(r).map(Hn)),i&&s.push(...Object.keys(i).map(Hn));var l=0,f=-1;const _=t.length;for(var d=0;d<_;d++){var c=t[d];if(a?c==="/"&&t[d-1]==="*"&&(a=!1):o?o===c&&(o=!1):c==="/"&&t[d+1]==="*"?a=!0:c==='"'||c==="'"?o=c:c==="("?u++:c===")"&&u--,!a&&o===!1&&u===0){if(c===":"&&f===-1)f=d;else if(c===";"||d===_-1){if(f!==-1){var v=Hn(t.substring(l,f).trim());if(!s.includes(v)){c!==";"&&d++;var p=t.substring(l,d).trim();n+=" "+p+";"}}l=d+1,f=-1}}}}return r&&(n+=Qr(r)),i&&(n+=Qr(i,!0)),n=n.trim(),n===""?null:n}return t==null?null:String(t)}function Me(t,e,n,r,i,o){var u=t.__className;if(u!==n||u===void 0){var a=Ks(n,r,o);a==null?t.removeAttribute("class"):e?t.className=a:t.setAttribute("class",a),t.__className=n}else if(o&&i!==o)for(var s in o){var l=!!o[s];(i==null||l!==!!i[s])&&t.classList.toggle(s,l)}return o}function Kn(t,e={},n,r){for(var i in n){var o=n[i];e[i]!==o&&(n[i]==null?t.style.removeProperty(i):t.style.setProperty(i,o,r))}}function _n(t,e,n,r){var i=t.__style;if(i!==e){var o=Ws(e,r);o==null?t.removeAttribute("style"):t.style.cssText=o,t.__style=e}else r&&(Array.isArray(r)?(Kn(t,n==null?void 0:n[0],r[0]),Kn(t,n==null?void 0:n[1],r[1],"important")):Kn(t,n,r));return r}const xe=Symbol("class"),Se=Symbol("style"),no=Symbol("is custom element"),ro=Symbol("is html");function Ys(t,e){e?t.hasAttribute("selected")||t.setAttribute("selected",""):t.removeAttribute("selected")}function L(t,e,n,r){var i=io(t);i[e]!==(i[e]=n)&&(e==="loading"&&(t[Ro]=n),n==null?t.removeAttribute(e):typeof n!="string"&&oo(t).includes(e)?t[e]=n:t.setAttribute(e,n))}function Wt(t,e,n,r,i=!1){var o=io(t),u=o[no],a=!o[ro],s=e||{},l=t.tagName==="OPTION";for(var f in e)f in n||(n[f]=null);n.class?n.class=Hs(n.class):n[xe]&&(n.class=null),n[Se]&&(n.style??(n.style=null));var d=oo(t);for(const x in n){let m=n[x];if(l&&x==="value"&&m==null){t.value=t.__value="",s[x]=m;continue}if(x==="class"){var c=t.namespaceURI==="http://www.w3.org/1999/xhtml";Me(t,c,m,r,e==null?void 0:e[xe],n[xe]),s[x]=m,s[xe]=n[xe];continue}if(x==="style"){_n(t,m,e==null?void 0:e[Se],n[Se]),s[x]=m,s[Se]=n[Se];continue}var v=s[x];if(m!==v){s[x]=m;var p=x[0]+x[1];if(p!=="$$")if(p==="on"){const S={},E="$$"+x;let w=x.slice(2);var _=ks(w);if(zs(w)&&(w=w.slice(0,-7),S.capture=!0),!_&&v){if(m!=null)continue;t.removeEventListener(w,s[E],S),s[E]=null}if(m!=null)if(_)t[`__${w}`]=m,Ye([w]);else{let I=function(C){s[x].call(this,C)};var b=I;s[E]=Cr(w,t,I,S)}else _&&(t[`__${w}`]=void 0)}else if(x==="style")L(t,x,m);else if(x==="autofocus")Ls(t,!!m);else if(!u&&(x==="__value"||x==="value"&&m!=null))t.value=t.__value=m;else if(x==="selected"&&l)Ys(t,m);else{var h=x;a||(h=Cs(h));var y=h==="defaultValue"||h==="defaultChecked";if(m==null&&!u&&!y)if(o[x]=null,h==="value"||h==="checked"){let S=t;const E=e===void 0;if(h==="value"){let w=S.defaultValue;S.removeAttribute(h),S.defaultValue=w,S.value=S.__value=E?w:null}else{let w=S.defaultChecked;S.removeAttribute(h),S.defaultChecked=w,S.checked=E?w:!1}}else t.removeAttribute(x);else y||d.includes(h)&&(u||typeof m!="string")?t[h]=m:typeof m!="function"&&L(t,h,m)}}}return s}function io(t){return t.__attributes??(t.__attributes={[no]:t.nodeName.includes("-"),[ro]:t.namespaceURI===ss})}var Xr=new Map;function oo(t){var e=Xr.get(t.nodeName);if(e)return e;Xr.set(t.nodeName,e=[]);for(var n,r=t,i=Element.prototype;i!==r;){n=wi(r);for(var o in n)n[o].set&&e.push(o);r=Sn(r)}return e}const Js=()=>performance.now(),Lt={tick:t=>requestAnimationFrame(t),now:()=>Js(),tasks:new Set};function so(){const t=Lt.now();Lt.tasks.forEach(e=>{e.c(t)||(Lt.tasks.delete(e),e.f())}),Lt.tasks.size!==0&&Lt.tick(so)}function Qs(t){let e;return Lt.tasks.size===0&&Lt.tick(so),{promise:new Promise(n=>{Lt.tasks.add(e={c:t,f:n})}),abort(){Lt.tasks.delete(e)}}}function Je(t,e){Mr(()=>{t.dispatchEvent(new CustomEvent(e))})}function Xs(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const e=t.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("")}function ti(t){const e={},n=t.split(";");for(const r of n){const[i,o]=r.split(":");if(!i||o===void 0)break;const u=Xs(i.trim());e[u]=o.trim()}return e}const ta=t=>t;function zt(t,e,n,r){var i=(t&ns)!==0,o=(t&rs)!==0,u=i&&o,a=(t&is)!==0,s=u?"both":i?"in":"out",l,f=e.inert,d=e.style.overflow,c,v;function p(){var x=$,m=R;vt(null),kt(null);try{return l??(l=n()(e,(r==null?void 0:r())??{},{direction:s}))}finally{vt(x),kt(m)}}var _={is_global:a,in(){var x;if(e.inert=f,!i){v==null||v.abort(),(x=v==null?void 0:v.reset)==null||x.call(v);return}o||c==null||c.abort(),Je(e,"introstart"),c=ar(e,p(),v,1,()=>{Je(e,"introend"),c==null||c.abort(),c=l=void 0,e.style.overflow=d})},out(x){if(!o){x==null||x(),l=void 0;return}e.inert=!0,Je(e,"outrostart"),v=ar(e,p(),c,0,()=>{Je(e,"outroend"),x==null||x()})},stop:()=>{c==null||c.abort(),v==null||v.abort()}},h=R;if((h.transitions??(h.transitions=[])).push(_),i&&sr){var y=a;if(!y){for(var b=h.parent;b&&(b.f&An)!==0;)for(;(b=b.parent)&&(b.f&In)===0;);y=!b||(b.f&Ei)!==0}y&&pe(()=>{gt(()=>_.in())})}}function ar(t,e,n,r,i){var o=r===1;if(Co(e)){var u,a=!1;return Ke(()=>{if(!a){var h=e({direction:o?"in":"out"});u=ar(t,h,n,r,i)}}),{abort:()=>{a=!0,u==null||u.abort()},deactivate:()=>u.deactivate(),reset:()=>u.reset(),t:()=>u.t()}}if(n==null||n.deactivate(),!(e!=null&&e.duration))return i(),{abort:se,deactivate:se,reset:se,t:()=>r};const{delay:s=0,css:l,tick:f,easing:d=ta}=e;var c=[];if(o&&n===void 0&&(f&&f(0,1),l)){var v=ti(l(0,1));c.push(v,v)}var p=()=>1-r,_=t.animate(c,{duration:s});return _.onfinish=()=>{var h=(n==null?void 0:n.t())??1-r;n==null||n.abort();var y=r-h,b=e.duration*Math.abs(y),x=[];if(b>0){var m=!1;if(l)for(var S=Math.ceil(b/16.666666666666668),E=0;E<=S;E+=1){var w=h+y*d(E/S),I=ti(l(w,1-w));x.push(I),m||(m=I.overflow==="hidden")}m&&(t.style.overflow="hidden"),p=()=>{var C=_.currentTime;return h+y*d(C/b)},f&&Qs(()=>{if(_.playState!=="running")return!1;var C=p();return f(C,1-C),!0})}_=t.animate(x,{duration:b,fill:"forwards"}),_.onfinish=()=>{p=()=>r,f==null||f(r,1-r),i()}},{abort:()=>{_&&(_.cancel(),_.effect=null,_.onfinish=se)},deactivate:()=>{i=se},reset:()=>{r===0&&(f==null||f(1,0))},t:()=>p()}}function ea(t,e,n=e){var r=_e();Rs(t,"input",i=>{var o=i?t.defaultValue:t.value;if(o=Wn(t)?Yn(o):o,n(o),r&&o!==(o=e())){var u=t.selectionStart,a=t.selectionEnd;t.value=o??"",a!==null&&(t.selectionStart=u,t.selectionEnd=Math.min(a,t.value.length))}}),gt(e)==null&&t.value&&n(Wn(t)?Yn(t.value):t.value),He(()=>{var i=e();Wn(t)&&i===Yn(t.value)||t.type==="date"&&!i&&!t.value||i!==t.value&&(t.value=i??"")})}function Wn(t){var e=t.type;return e==="number"||e==="range"}function Yn(t){return t===""?null:+t}function na(t,e,n){var r=Xt(t,e);r&&r.set&&(t[e]=n,Nr(()=>{t[e]=null}))}var Zt,fe,Fe,wn,ao;const xn=class xn{constructor(e){mt(this,wn);mt(this,Zt,new WeakMap);mt(this,fe);mt(this,Fe);Vn(this,Fe,e)}observe(e,n){var r=U(this,Zt).get(e)||new Set;return r.add(n),U(this,Zt).set(e,r),Br(this,wn,ao).call(this).observe(e,U(this,Fe)),()=>{var i=U(this,Zt).get(e);i.delete(n),i.size===0&&(U(this,Zt).delete(e),U(this,fe).unobserve(e))}}};Zt=new WeakMap,fe=new WeakMap,Fe=new WeakMap,wn=new WeakSet,ao=function(){return U(this,fe)??Vn(this,fe,new ResizeObserver(e=>{for(var n of e){xn.entries.set(n.target,n);for(var r of U(this,Zt).get(n.target)||[])r(n)}}))},ie(xn,"entries",new WeakMap);let ur=xn;var ra=new ur({box:"border-box"});function lr(t,e,n){var r=ra.observe(t,()=>n(t[e]));pe(()=>(gt(()=>n(t[e])),r))}function ei(t,e){return t===e||(t==null?void 0:t[te])===e}function Pn(t={},e,n,r){return pe(()=>{var i,o;return He(()=>{i=o,o=[],gt(()=>{t!==n(...o)&&(e(t,...o),i&&ei(n(...i),t)&&e(null,...i))})}),()=>{Ke(()=>{o&&ei(n(...o),t)&&e(null,...o)})}}),t}function ia(t=!1){const e=F,n=e.l.u;if(!n)return;let r=()=>It(e.s);if(t){let i=0,o={};const u=ce(()=>{let a=!1;const s=e.s;for(const l in s)s[l]!==o[l]&&(o[l]=s[l],a=!0);return a&&i++,i});r=()=>g(u)}n.b.length&&gs(()=>{ni(e,r),un(n.b)}),Gt(()=>{const i=gt(()=>n.m.map(Oo));return()=>{for(const o of i)typeof o=="function"&&o()}}),n.a.length&&Gt(()=>{ni(e,r),un(n.a)})}function ni(t,e){if(t.l.s)for(const n of t.l.s)g(n);e()}let Qe=!1;function oa(t){var e=Qe;try{return Qe=!1,[t(),Qe]}finally{Qe=e}}const sa={get(t,e){if(!t.exclude.includes(e))return t.props[e]},set(t,e){return!1},getOwnPropertyDescriptor(t,e){if(!t.exclude.includes(e)&&e in t.props)return{enumerable:!0,configurable:!0,value:t.props[e]}},has(t,e){return t.exclude.includes(e)?!1:e in t.props},ownKeys(t){return Reflect.ownKeys(t.props).filter(e=>!t.exclude.includes(e))}};function Yt(t,e,n){return new Proxy({props:t,exclude:e},sa)}function ri(t){var e;return((e=t.ctx)==null?void 0:e.d)??!1}function K(t,e,n,r){var E;var i=(n&Jo)!==0,o=!ge||(n&Qo)!==0,u=(n&ts)!==0,a=(n&es)!==0,s=!1,l;u?[l,s]=oa(()=>t[e]):l=t[e];var f=te in t||Do in t,d=u&&(((E=Xt(t,e))==null?void 0:E.set)??(f&&e in t&&(w=>t[e]=w)))||void 0,c=r,v=!0,p=!1,_=()=>(p=!0,v&&(v=!1,a?c=gt(r):c=r),c);l===void 0&&r!==void 0&&(d&&o&&Vo(),l=_(),d&&d(l));var h;if(o)h=()=>{var w=t[e];return w===void 0?_():(v=!0,p=!1,w)};else{var y=(i?ce:ki)(()=>t[e]);y.f|=Po,h=()=>{var w=g(y);return w!==void 0&&(c=void 0),w===void 0?c:w}}if((n&Xo)===0)return h;if(d){var b=t.$$legacy;return function(w,I){return arguments.length>0?((!o||!I||b||s)&&d(I?h():w),w):h()}}var x=!1,m=jt(l),S=ce(()=>{var w=h(),I=g(m);return x?(x=!1,I):m.v=w});return u&&g(S),i||(S.equals=Er),function(w,I){if(arguments.length>0){const C=I?g(S):o&&u?Qt(w):w;if(!S.equals(C)){if(x=!0,A(m,C),p&&c!==void 0&&(c=C),ri(S))return w;gt(()=>g(S))}return w}return ri(S)?S.v:g(S)}}function Ln(t){F===null&&Ar(),ge&&F.l!==null?fa(F).m.push(t):Gt(()=>{const e=gt(t);if(typeof e=="function")return e})}function aa(t){F===null&&Ar(),Ln(()=>()=>gt(t))}function ua(t,e,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:r})}function la(){const t=F;return t===null&&Ar(),(e,n,r)=>{var o;const i=(o=t.s.$$events)==null?void 0:o[e];if(i){const u=Ge(i)?i.slice():[i],a=ua(e,n,r);for(const s of u)s.call(t.x,a);return!a.defaultPrevented}return!0}}function fa(t){var e=t.l;return e.u??(e.u={a:[],b:[],m:[]})}const ca="5";var bi;typeof window<"u"&&((bi=window.__svelte??(window.__svelte={})).v??(bi.v=new Set)).add(ca);const da=/^1(0+10+10+10+1(0|00)11)*(0+10+10+10+1(0|00))111(0|1)*$/,ha=/^1(0+10+10+10+1(0|00)11)*(0+10+10+10+1(0|00))$/;function fr(t,e){const n=ga(t,e);if(!n.success)return n;const r=va(n.result);return r.success?uo(n.result):r}function uo(t){const e=t.toString(2).slice(1),n=e.indexOf("111");if(n===-1)throw new SyntaxError("Expected input to be a valid Gödel number");const r=e.slice(0,n),i=e.slice(n+3),o={goedel:t,goedel_without_input:BigInt("0b"+r),states:[],starting_state:1,accepting_state:2,alphabet:["0","1","⌴"],empty_symbol:3,transitions:[],initial_tape:[]},u=r.split("11"),a=new Set([1,2]);let s=3;for(const l of u){const[f,d,c,v,p]=l.split("1").map(h=>h.length);if(o.transitions.some(h=>h[0]===f&&h[1]===d))return{success:!1,error:"Turing Machine is non-deterministic"};const _=p===1?"L":"R";o.transitions.push([f,d,c,v,_]),a.add(f),a.add(c),s=Math.max(s,d,v)}o.states=[...a],o.initial_tape=i.split("").map(l=>parseInt(l,2)+1);for(let l=1;l<=s;l++){let f;switch(l){case 1:f="0";break;case 2:f="1";break;case 3:f="⌴";break;default:f=String.fromCharCode(97+l-3)}o.alphabet[l-1]=f}return{success:!0,result:o}}function va(t){const e=t.toString(2),n=e.match(da),r=e.match(ha);return!n&&!r?{success:!1,error:"Input is not a valid Gödel number"}:!n&&r?{success:!1,error:"Initial tape is missing. Add it after the delimiter 111"}:{success:!0,result:void 0}}function ga(t,e){if(t.length==0)return{success:!1,error:"Please enter a number"};switch(e){case 2:return t.startsWith("1")?t.match(/^[01]+$/)?{success:!0,result:BigInt("0b"+t)}:{success:!1,error:"Input should only contain 0s and 1s"}:{success:!1,error:"Input should include a leading 1"};case 10:return t.match(/^[0-9]+$/)?{success:!0,result:BigInt(t)}:{success:!1,error:"Input should only contain digits 0-9"};case 16:return t=t.toLowerCase(),t.match(/^[0-9a-f]+$/)?{success:!0,result:BigInt("0x"+t)}:{success:!1,error:"Input should only contain digits 0-9 and letters a-f"}}}function lo(t){return t=t.trim(),t.match(/^[01]+$/)&&(t.startsWith("1")||(t="1"+t),t.endsWith("111")||(t=t+"111")),t}const _a=t=>t;function Pr(t){const e=t-1;return e*e*e+1}function ii(t){const e=typeof t=="string"&&t.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[t,"px"]}function ma(t,{delay:e=0,duration:n=400,easing:r=_a}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:r,css:o=>`opacity: ${o*i}`}}function cr(t,{delay:e=0,duration:n=400,easing:r=Pr,x:i=0,y:o=0,opacity:u=0}={}){const a=getComputedStyle(t),s=+a.opacity,l=a.transform==="none"?"":a.transform,f=s*(1-u),[d,c]=ii(i),[v,p]=ii(o);return{delay:e,duration:n,easing:r,css:(_,h)=>`
			transform: ${l} translate(${(1-_)*d}${c}, ${(1-_)*v}${p});
			opacity: ${s-f*h}`}}function mn(t,{delay:e=0,duration:n=400,easing:r=Pr,start:i=0,opacity:o=0}={}){const u=getComputedStyle(t),a=+u.opacity,s=u.transform==="none"?"":u.transform,l=1-i,f=a*(1-o);return{delay:e,duration:n,easing:r,css:(d,c)=>`
			transform: ${s} scale(${1-l*c});
			opacity: ${a-f*c}
		`}}function oi(t,e){for(const n in e)t[n]=e[n];return t}function pa({fallback:t,...e}){const n=new Map,r=new Map;function i(u,a,s){const{delay:l=0,duration:f=E=>Math.sqrt(E)*30,easing:d=Pr}=oi(oi({},e),s),c=u.getBoundingClientRect(),v=a.getBoundingClientRect(),p=c.left-v.left,_=c.top-v.top,h=c.width/v.width,y=c.height/v.height,b=Math.sqrt(p*p+_*_),x=getComputedStyle(a),m=x.transform==="none"?"":x.transform,S=+x.opacity;return{delay:l,duration:typeof f=="function"?f(b):f,easing:d,css:(E,w)=>`
			   opacity: ${E*S};
			   transform-origin: top left;
			   transform: ${m} translate(${w*p}px,${w*_}px) scale(${E+(1-E)*h}, ${E+(1-E)*y});
		   `}}function o(u,a,s){return(l,f)=>(u.set(f.key,l),()=>{if(a.has(f.key)){const d=a.get(f.key);return a.delete(f.key),i(d,l,f)}return u.delete(f.key),t&&t(l,f,s)})}return[o(r,n,!1),o(n,r,!0)]}function Jn(t,e={enabled:!0}){let{enabled:n,eventType:r,nodeForEvent:i,options:o}=si(e);function u(s){s.target&&t&&!t.contains(s.target)&&!s.defaultPrevented&&t.dispatchEvent(new CustomEvent("clickoutside",{detail:s}))}let a;return e.enabled!==!1&&(a=Wr(i,r,u,o)),{update(s){a==null||a(),{enabled:n,eventType:r,nodeForEvent:i,options:o}=si(s),n&&(a=Wr(i,r,u,o))},destroy(){a==null||a()}}}function si(t={}){var e;return{enabled:t.enabled??!0,nodeForEvent:((e=t.limit)==null?void 0:e.parent)??document,eventType:t.event??"click",options:typeof t.options=="boolean"?{capture:t.options}:t.options}}var ya=W('<svg><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 6.042A8.97 8.97 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A9 9 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.97 8.97 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A9 9 0 0 0 18 18a8.97 8.97 0 0 0-6 2.292m0-14.25v14.25"></path></svg>');function ba(t,e){const n=Yt(e,["$$slots","$$events","$$legacy"]);var r=ya();let i;Z(()=>i=Wt(r,i,{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...n})),k(t,r)}var wa=(t,e,n)=>e(n()),xa=G('<button class="block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900 outline-hidden" role="menuitem" tabindex="-1" id="menu-item-0"> </button>'),Sa=G('<div class="absolute right-0 z-10 mt-2 w-56 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black/5 focus:outline-hidden" role="menu" aria-orientation="vertical" aria-labelledby="menu-button" tabindex="-1"><div class="py-1 divide-y divide-gray-100" role="none"><div class="px-4 py-3" role="none"><p class="text-sm font-medium text-gray-900" role="none">Load Example</p></div> <!></div></div>'),Ea=G('<div class="relative inline-block text-left"><button type="button" class="flex items-center rounded-full text-gray-400 hover:text-gray-600 focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-gray-100 focus:outline-hidden" id="menu-button" aria-expanded="true" aria-haspopup="true"><span class="sr-only">Open Examples</span> <!></button> <!></div>');function Ia(t,e){ft(e,!0);let n=D(!1);const r={"Contains 00":BigInt("0b10101000101001101001010010011000101000010100110001001010010011000010100001010011000010010000100100110000100010010001001111001"),"Modulo 2":BigInt("0b101010100010011010010001000100110100010010101100010101000100110001001000100010011000100010010010111"),"Modulo 3":BigInt("0b10101010001001101001000001000100110100010010101100000100101000100110000010100010001001100000100010010010110001001000100010011000101000001000100110001000100001010110000100010010010111"),"Square Number":BigInt("0b100010100001000010110001000001000010000001011000100001000100001001100010000001000100000010011000100010100010110000100001000010000101100001000000100001000000101100001000100010000100110100001010101101000000100000100000010011010100000000100000010011010001001000100110100000100100000100110000010100000000100000010011000000100000010000001000001011000000100000100000010000010110000001000010001000010011000000100010001000100110000000100001000000010101100000001000000100000001010110000000100010010001001100000001000001001000001001100000001010010100110000000010100000010101100000000100010000000100010111"),"Infinite Loop":BigInt("0b101000101000100111")};function i(f){A(n,!1),e.onselect&&e.onselect(f)}var o=Ea(),u=z(o);u.__click=f=>{A(n,!g(n)),f.cancelBubble=!0};var a=O(z(u),2);ba(a,{class:"size-6"});var s=O(u,2);{var l=f=>{var d=Sa(),c=z(d),v=O(z(c),2);On(v,17,()=>Object.entries(r),Or,(p,_)=>{let h=()=>g(_)[0],y=()=>g(_)[1];var b=xa();b.__click=[wa,i,y];var x=z(b);Z(()=>be(x,h())),k(p,b)}),qs(d,p=>Jn==null?void 0:Jn(p)),pt("clickoutside",d,()=>A(n,!1)),zt(1,d,()=>mn,()=>({duration:100,start:.95,opacity:0})),zt(2,d,()=>mn,()=>({duration:75,start:.95,opacity:0})),k(f,d)};yt(s,f=>{g(n)&&f(l)})}k(t,o),ct()}Ye(["click"]);var Ta=W('<svg><path fill="currentColor" fill-rule="evenodd" d="M11.47 2.47a.75.75 0 0 1 1.06 0l4.5 4.5a.75.75 0 0 1-1.06 1.06l-3.22-3.22V16.5a.75.75 0 0 1-1.5 0V4.81L8.03 8.03a.75.75 0 0 1-1.06-1.06zM3 15.75a.75.75 0 0 1 .75.75v2.25a1.5 1.5 0 0 0 1.5 1.5h13.5a1.5 1.5 0 0 0 1.5-1.5V16.5a.75.75 0 0 1 1.5 0v2.25a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3V16.5a.75.75 0 0 1 .75-.75" clip-rule="evenodd"></path></svg>');function Aa(t,e){const n=Yt(e,["$$slots","$$events","$$legacy"]);var r=Ta();let i;Z(()=>i=Wt(r,i,{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...n})),k(t,r)}var za=(t,e)=>e("binary"),Na=(t,e)=>e("decimal"),ka=G('<p class="mt-2 text-sm text-red-600"> </p>'),Ma=G('<div><div class="group flex items-center" aria-orientation="horizontal" role="tablist"><button id="tabs-1-tab-1" aria-controls="tabs-1-panel-1" role="tab" type="button">Binary</button> <button id="tabs-1-tab-2" aria-controls="tabs-1-panel-2" role="tab" type="button">Decimal</button> <div class="ml-auto items-center space-x-5 flex"><button type="button" class="size-6 not-first:flex items-center rounded-full text-gray-400 hover:text-gray-600 focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-gray-100 focus:outline-hidden" id="menu-button" aria-expanded="true" aria-haspopup="true"><span class="sr-only">Open file</span> <!></button> <!></div></div> <div class="mt-2"><div id="tabs-1-panel-1" class="-m-0.5 rounded-lg p-0.5" aria-labelledby="tabs-1-tab-1" role="tabpanel" tabindex="0"><div><textarea rows="5" id="goedel-number"></textarea></div></div></div></div> <!>',1);function Ca(t,e){ft(e,!0);let n=K(e,"value",15,null),r=K(e,"inputMode",15,"binary"),i=D(""),o=M(()=>{const N=fr(g(i),r()=="binary"?2:10);return N.success?null:N.error}),u=D(n()!==null),a=M(()=>g(o)!=null&&g(u));function s(N,j,H){if(N.length==0&&n(null),H==null){const rt=j=="binary"?BigInt("0b"+N):BigInt(N);rt!=n()&&n(rt)}}Gt(()=>{n()==null?A(i,""):A(i,r()=="binary"?n().toString(2):n().toString(10),!0)}),Gt(()=>{s(g(i),r(),g(o))});function l(N){var Ot;const j=N.target;if(!(j instanceof HTMLTextAreaElement))return;const H=((Ot=N.clipboardData)==null?void 0:Ot.getData("text"))??"";if(r()!="binary")return;const rt=j.selectionStart??0,Y=j.selectionEnd??g(i).length,xt=g(i).slice(0,rt)+H+g(i).slice(Y),Ct=lo(xt);A(i,Ct,!0),N.preventDefault()}function f(){const N=document.createElement("input");N.type="file",N.accept="text/plain, application/json",N.onchange=()=>{if(N.files==null)return;const j=N.files[0];e.onFileUpload&&e.onFileUpload(j)},N.click()}var d=Ma(),c=qt(d),v=z(c),p=z(v);p.__click=[za,r];var _=O(p,2);_.__click=[Na,r];var h=O(_,2),y=z(h);y.__click=f;var b=O(z(y),2);Aa(b,{class:"size-6"});var x=O(y,2);Ia(x,{onselect:N=>n(N)});var m=O(v,2),S=z(m),E=z(S),w=z(E),I=O(c,2);{var C=N=>{var j=ka(),H=z(j);Z(()=>be(H,g(o))),k(N,j)};yt(I,N=>{g(a)&&N(C)})}Z(()=>{Me(p,1,`${r()=="binary"?"bg-gray-100 text-gray-900 hover:bg-gray-200":"bg-white text-gray-500 hover:bg-gray-100 hover:text-gray-900"} 
        rounded-md border border-transparent px-3 py-1.5 text-sm font-medium text-gray-500 hover:bg-gray-100 hover:text-gray-900`),Me(_,1,`${r()=="decimal"?"bg-gray-100 text-gray-900 hover:bg-gray-200":"bg-white text-gray-500 hover:bg-gray-100 hover:text-gray-900"} 
        rounded-md border border-transparent px-3 py-1.5 text-sm font-medium text-gray-500 hover:bg-gray-100 hover:text-gray-900`),Me(w,1,`block w-full rounded-md bg-white px-3 py-1.5
          ${g(a)?"text-red-900 outline-red-300 placeholder:text-red-300 focus:outline-red-600":"text-gray-900 outline-gray-300 placeholder:text-gray-400 focus:outline-indigo-600"} 
            text-base outline-1 -outline-offset-1 focus:outline-2 focus:-outline-offset-2 sm:text-sm/6`),L(w,"placeholder",r()=="binary"?"1001101001...":"7349101928734...")}),pt("paste",w,l),pt("blur",w,()=>A(u,!0)),ea(w,()=>g(i),N=>A(i,N)),k(t,d),ct()}Ye(["click"]);function Oa(t,e){var n,r=1;t==null&&(t=0),e==null&&(e=0);function i(){var o,u=n.length,a,s=0,l=0;for(o=0;o<u;++o)a=n[o],s+=a.x,l+=a.y;for(s=(s/u-t)*r,l=(l/u-e)*r,o=0;o<u;++o)a=n[o],a.x-=s,a.y-=l}return i.initialize=function(o){n=o},i.x=function(o){return arguments.length?(t=+o,i):t},i.y=function(o){return arguments.length?(e=+o,i):e},i.strength=function(o){return arguments.length?(r=+o,i):r},i}function Pa(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return fo(this.cover(e,n),e,n,t)}function fo(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o=t._root,u={data:r},a=t._x0,s=t._y0,l=t._x1,f=t._y1,d,c,v,p,_,h,y,b;if(!o)return t._root=u,t;for(;o.length;)if((_=e>=(d=(a+l)/2))?a=d:l=d,(h=n>=(c=(s+f)/2))?s=c:f=c,i=o,!(o=o[y=h<<1|_]))return i[y]=u,t;if(v=+t._x.call(null,o.data),p=+t._y.call(null,o.data),e===v&&n===p)return u.next=o,i?i[y]=u:t._root=u,t;do i=i?i[y]=new Array(4):t._root=new Array(4),(_=e>=(d=(a+l)/2))?a=d:l=d,(h=n>=(c=(s+f)/2))?s=c:f=c;while((y=h<<1|_)===(b=(p>=c)<<1|v>=d));return i[b]=o,i[y]=u,t}function La(t){var e,n,r=t.length,i,o,u=new Array(r),a=new Array(r),s=1/0,l=1/0,f=-1/0,d=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(o=+this._y.call(null,e))||(u[n]=i,a[n]=o,i<s&&(s=i),i>f&&(f=i),o<l&&(l=o),o>d&&(d=o));if(s>f||l>d)return this;for(this.cover(s,l).cover(f,d),n=0;n<r;++n)fo(this,u[n],a[n],t[n]);return this}function Da(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var u=i-n||1,a=this._root,s,l;n>t||t>=i||r>e||e>=o;)switch(l=(e<r)<<1|t<n,s=new Array(4),s[l]=a,a=s,u*=2,l){case 0:i=n+u,o=r+u;break;case 1:n=i-u,o=r+u;break;case 2:i=n+u,r=o-u;break;case 3:n=i-u,r=o-u;break}this._root&&this._root.length&&(this._root=a)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this}function Ra(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function $a(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function X(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function Fa(t,e,n){var r,i=this._x0,o=this._y0,u,a,s,l,f=this._x1,d=this._y1,c=[],v=this._root,p,_;for(v&&c.push(new X(v,i,o,f,d)),n==null?n=1/0:(i=t-n,o=e-n,f=t+n,d=e+n,n*=n);p=c.pop();)if(!(!(v=p.node)||(u=p.x0)>f||(a=p.y0)>d||(s=p.x1)<i||(l=p.y1)<o))if(v.length){var h=(u+s)/2,y=(a+l)/2;c.push(new X(v[3],h,y,s,l),new X(v[2],u,y,h,l),new X(v[1],h,a,s,y),new X(v[0],u,a,h,y)),(_=(e>=y)<<1|t>=h)&&(p=c[c.length-1],c[c.length-1]=c[c.length-1-_],c[c.length-1-_]=p)}else{var b=t-+this._x.call(null,v.data),x=e-+this._y.call(null,v.data),m=b*b+x*x;if(m<n){var S=Math.sqrt(n=m);i=t-S,o=e-S,f=t+S,d=e+S,r=v.data}}return r}function ja(t){if(isNaN(f=+this._x.call(null,t))||isNaN(d=+this._y.call(null,t)))return this;var e,n=this._root,r,i,o,u=this._x0,a=this._y0,s=this._x1,l=this._y1,f,d,c,v,p,_,h,y;if(!n)return this;if(n.length)for(;;){if((p=f>=(c=(u+s)/2))?u=c:s=c,(_=d>=(v=(a+l)/2))?a=v:l=v,e=n,!(n=n[h=_<<1|p]))return this;if(!n.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(r=e,y=h)}for(;n.data!==t;)if(i=n,!(n=n.next))return this;return(o=n.next)&&delete n.next,i?(o?i.next=o:delete i.next,this):e?(o?e[h]=o:delete e[h],(n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length&&(r?r[y]=n:this._root=n),this):(this._root=o,this)}function Ba(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function Za(){return this._root}function Va(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function Ua(t){var e=[],n,r=this._root,i,o,u,a,s;for(r&&e.push(new X(r,this._x0,this._y0,this._x1,this._y1));n=e.pop();)if(!t(r=n.node,o=n.x0,u=n.y0,a=n.x1,s=n.y1)&&r.length){var l=(o+a)/2,f=(u+s)/2;(i=r[3])&&e.push(new X(i,l,f,a,s)),(i=r[2])&&e.push(new X(i,o,f,l,s)),(i=r[1])&&e.push(new X(i,l,u,a,f)),(i=r[0])&&e.push(new X(i,o,u,l,f))}return this}function qa(t){var e=[],n=[],r;for(this._root&&e.push(new X(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var i=r.node;if(i.length){var o,u=r.x0,a=r.y0,s=r.x1,l=r.y1,f=(u+s)/2,d=(a+l)/2;(o=i[0])&&e.push(new X(o,u,a,f,d)),(o=i[1])&&e.push(new X(o,f,a,s,d)),(o=i[2])&&e.push(new X(o,u,d,f,l)),(o=i[3])&&e.push(new X(o,f,d,s,l))}n.push(r)}for(;r=n.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function Ga(t){return t[0]}function Ha(t){return arguments.length?(this._x=t,this):this._x}function Ka(t){return t[1]}function Wa(t){return arguments.length?(this._y=t,this):this._y}function co(t,e,n){var r=new Lr(e??Ga,n??Ka,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function Lr(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function ai(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var nt=co.prototype=Lr.prototype;nt.copy=function(){var t=new Lr(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,r;if(!e)return t;if(!e.length)return t._root=ai(e),t;for(n=[{source:e,target:t._root=new Array(4)}];e=n.pop();)for(var i=0;i<4;++i)(r=e.source[i])&&(r.length?n.push({source:r,target:e.target[i]=new Array(4)}):e.target[i]=ai(r));return t};nt.add=Pa;nt.addAll=La;nt.cover=Da;nt.data=Ra;nt.extent=$a;nt.find=Fa;nt.remove=ja;nt.removeAll=Ba;nt.root=Za;nt.size=Va;nt.visit=Ua;nt.visitAfter=qa;nt.x=Ha;nt.y=Wa;function ut(t){return function(){return t}}function ae(t){return(t()-.5)*1e-6}function Ya(t){return t.index}function ui(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function Ja(t){var e=Ya,n=d,r,i=ut(30),o,u,a,s,l,f=1;t==null&&(t=[]);function d(h){return 1/Math.min(a[h.source.index],a[h.target.index])}function c(h){for(var y=0,b=t.length;y<f;++y)for(var x=0,m,S,E,w,I,C,N;x<b;++x)m=t[x],S=m.source,E=m.target,w=E.x+E.vx-S.x-S.vx||ae(l),I=E.y+E.vy-S.y-S.vy||ae(l),C=Math.sqrt(w*w+I*I),C=(C-o[x])/C*h*r[x],w*=C,I*=C,E.vx-=w*(N=s[x]),E.vy-=I*N,S.vx+=w*(N=1-N),S.vy+=I*N}function v(){if(u){var h,y=u.length,b=t.length,x=new Map(u.map((S,E)=>[e(S,E,u),S])),m;for(h=0,a=new Array(y);h<b;++h)m=t[h],m.index=h,typeof m.source!="object"&&(m.source=ui(x,m.source)),typeof m.target!="object"&&(m.target=ui(x,m.target)),a[m.source.index]=(a[m.source.index]||0)+1,a[m.target.index]=(a[m.target.index]||0)+1;for(h=0,s=new Array(b);h<b;++h)m=t[h],s[h]=a[m.source.index]/(a[m.source.index]+a[m.target.index]);r=new Array(b),p(),o=new Array(b),_()}}function p(){if(u)for(var h=0,y=t.length;h<y;++h)r[h]=+n(t[h],h,t)}function _(){if(u)for(var h=0,y=t.length;h<y;++h)o[h]=+i(t[h],h,t)}return c.initialize=function(h,y){u=h,l=y,v()},c.links=function(h){return arguments.length?(t=h,v(),c):t},c.id=function(h){return arguments.length?(e=h,c):e},c.iterations=function(h){return arguments.length?(f=+h,c):f},c.strength=function(h){return arguments.length?(n=typeof h=="function"?h:ut(+h),p(),c):n},c.distance=function(h){return arguments.length?(i=typeof h=="function"?h:ut(+h),_(),c):i},c}var Qa={value:()=>{}};function ho(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new an(n)}function an(t){this._=t}function Xa(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}an.prototype=ho.prototype={constructor:an,on:function(t,e){var n=this._,r=Xa(t+"",n),i,o=-1,u=r.length;if(arguments.length<2){for(;++o<u;)if((i=(t=r[o]).type)&&(i=tu(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<u;)if(i=(t=r[o]).type)n[i]=li(n[i],t.name,e);else if(e==null)for(i in n)n[i]=li(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new an(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function tu(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function li(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Qa,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var he=0,ze=0,Ee=0,vo=1e3,pn,Ne,yn=0,ne=0,Dn=0,$e=typeof performance=="object"&&performance.now?performance:Date,go=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function _o(){return ne||(go(eu),ne=$e.now()+Dn)}function eu(){ne=0}function dr(){this._call=this._time=this._next=null}dr.prototype=mo.prototype={constructor:dr,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?_o():+n)+(e==null?0:+e),!this._next&&Ne!==this&&(Ne?Ne._next=this:pn=this,Ne=this),this._call=t,this._time=n,hr()},stop:function(){this._call&&(this._call=null,this._time=1/0,hr())}};function mo(t,e,n){var r=new dr;return r.restart(t,e,n),r}function nu(){_o(),++he;for(var t=pn,e;t;)(e=ne-t._time)>=0&&t._call.call(void 0,e),t=t._next;--he}function fi(){ne=(yn=$e.now())+Dn,he=ze=0;try{nu()}finally{he=0,iu(),ne=0}}function ru(){var t=$e.now(),e=t-yn;e>vo&&(Dn-=e,yn=t)}function iu(){for(var t,e=pn,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:pn=n);Ne=t,hr(r)}function hr(t){if(!he){ze&&(ze=clearTimeout(ze));var e=t-ne;e>24?(t<1/0&&(ze=setTimeout(fi,t-$e.now()-Dn)),Ee&&(Ee=clearInterval(Ee))):(Ee||(yn=$e.now(),Ee=setInterval(ru,vo)),he=1,go(fi))}}const ou=1664525,su=1013904223,ci=4294967296;function au(){let t=1;return()=>(t=(ou*t+su)%ci)/ci}function uu(t){return t.x}function lu(t){return t.y}var fu=10,cu=Math.PI*(3-Math.sqrt(5));function du(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,u=.6,a=new Map,s=mo(d),l=ho("tick","end"),f=au();t==null&&(t=[]);function d(){c(),l.call("tick",e),n<r&&(s.stop(),l.call("end",e))}function c(_){var h,y=t.length,b;_===void 0&&(_=1);for(var x=0;x<_;++x)for(n+=(o-n)*i,a.forEach(function(m){m(n)}),h=0;h<y;++h)b=t[h],b.fx==null?b.x+=b.vx*=u:(b.x=b.fx,b.vx=0),b.fy==null?b.y+=b.vy*=u:(b.y=b.fy,b.vy=0);return e}function v(){for(var _=0,h=t.length,y;_<h;++_){if(y=t[_],y.index=_,y.fx!=null&&(y.x=y.fx),y.fy!=null&&(y.y=y.fy),isNaN(y.x)||isNaN(y.y)){var b=fu*Math.sqrt(.5+_),x=_*cu;y.x=b*Math.cos(x),y.y=b*Math.sin(x)}(isNaN(y.vx)||isNaN(y.vy))&&(y.vx=y.vy=0)}}function p(_){return _.initialize&&_.initialize(t,f),_}return v(),e={tick:c,restart:function(){return s.restart(d),e},stop:function(){return s.stop(),e},nodes:function(_){return arguments.length?(t=_,v(),a.forEach(p),e):t},alpha:function(_){return arguments.length?(n=+_,e):n},alphaMin:function(_){return arguments.length?(r=+_,e):r},alphaDecay:function(_){return arguments.length?(i=+_,e):+i},alphaTarget:function(_){return arguments.length?(o=+_,e):o},velocityDecay:function(_){return arguments.length?(u=1-_,e):1-u},randomSource:function(_){return arguments.length?(f=_,a.forEach(p),e):f},force:function(_,h){return arguments.length>1?(h==null?a.delete(_):a.set(_,p(h)),e):a.get(_)},find:function(_,h,y){var b=0,x=t.length,m,S,E,w,I;for(y==null?y=1/0:y*=y,b=0;b<x;++b)w=t[b],m=_-w.x,S=h-w.y,E=m*m+S*S,E<y&&(I=w,y=E);return I},on:function(_,h){return arguments.length>1?(l.on(_,h),e):l.on(_)}}}function hu(){var t,e,n,r,i=ut(-30),o,u=1,a=1/0,s=.81;function l(v){var p,_=t.length,h=co(t,uu,lu).visitAfter(d);for(r=v,p=0;p<_;++p)e=t[p],h.visit(c)}function f(){if(t){var v,p=t.length,_;for(o=new Array(p),v=0;v<p;++v)_=t[v],o[_.index]=+i(_,v,t)}}function d(v){var p=0,_,h,y=0,b,x,m;if(v.length){for(b=x=m=0;m<4;++m)(_=v[m])&&(h=Math.abs(_.value))&&(p+=_.value,y+=h,b+=h*_.x,x+=h*_.y);v.x=b/y,v.y=x/y}else{_=v,_.x=_.data.x,_.y=_.data.y;do p+=o[_.data.index];while(_=_.next)}v.value=p}function c(v,p,_,h){if(!v.value)return!0;var y=v.x-e.x,b=v.y-e.y,x=h-p,m=y*y+b*b;if(x*x/s<m)return m<a&&(y===0&&(y=ae(n),m+=y*y),b===0&&(b=ae(n),m+=b*b),m<u&&(m=Math.sqrt(u*m)),e.vx+=y*v.value*r/m,e.vy+=b*v.value*r/m),!0;if(v.length||m>=a)return;(v.data!==e||v.next)&&(y===0&&(y=ae(n),m+=y*y),b===0&&(b=ae(n),m+=b*b),m<u&&(m=Math.sqrt(u*m)));do v.data!==e&&(x=o[v.data.index]*r/m,e.vx+=y*x,e.vy+=b*x);while(v=v.next)}return l.initialize=function(v,p){t=v,n=p,f()},l.strength=function(v){return arguments.length?(i=typeof v=="function"?v:ut(+v),f(),l):i},l.distanceMin=function(v){return arguments.length?(u=v*v,l):Math.sqrt(u)},l.distanceMax=function(v){return arguments.length?(a=v*v,l):Math.sqrt(a)},l.theta=function(v){return arguments.length?(s=v*v,l):Math.sqrt(s)},l}function Xe(t){var e=ut(.1),n,r,i;typeof t!="function"&&(t=ut(t==null?0:+t));function o(a){for(var s=0,l=n.length,f;s<l;++s)f=n[s],f.vx+=(i[s]-f.x)*r[s]*a}function u(){if(n){var a,s=n.length;for(r=new Array(s),i=new Array(s),a=0;a<s;++a)r[a]=isNaN(i[a]=+t(n[a],a,n))?0:+e(n[a],a,n)}}return o.initialize=function(a){n=a,u()},o.strength=function(a){return arguments.length?(e=typeof a=="function"?a:ut(+a),u(),o):e},o.x=function(a){return arguments.length?(t=typeof a=="function"?a:ut(+a),u(),o):t},o}function di(t){var e=ut(.1),n,r,i;typeof t!="function"&&(t=ut(t==null?0:+t));function o(a){for(var s=0,l=n.length,f;s<l;++s)f=n[s],f.vy+=(i[s]-f.y)*r[s]*a}function u(){if(n){var a,s=n.length;for(r=new Array(s),i=new Array(s),a=0;a<s;++a)r[a]=isNaN(i[a]=+t(n[a],a,n))?0:+e(n[a],a,n)}}return o.initialize=function(a){n=a,u()},o.strength=function(a){return arguments.length?(e=typeof a=="function"?a:ut(+a),u(),o):e},o.y=function(a){return arguments.length?(t=typeof a=="function"?a:ut(+a),u(),o):t},o}function vr(t,e){return{x:t.x*Math.cos(e)-t.y*Math.sin(e),y:t.x*Math.sin(e)+t.y*Math.cos(e)}}function gr(t){const e=po(t);return{x:t.x/e,y:t.y/e}}function ue(t,e){return{x:t.x+e.x,y:t.y+e.y}}function le(t,e){return{x:t.x*e,y:t.y*e}}function _r(t,e){return{x:t.x-e.x,y:t.y-e.y}}function po(t){return Math.sqrt(t.x*t.x+t.y*t.y)}const hi=30,vu=50,gu=-800,yo=-800;var je,Be,Ze,Ve,Ue,qe;class Dr{constructor(e){mt(this,je,D(0));mt(this,Be,D(0));mt(this,Ze,D(0));mt(this,Ve,D(0));mt(this,Ue,D(void 0));mt(this,qe,D(void 0));ie(this,"data");this.data=e}get x(){return g(U(this,je))}set x(e){A(U(this,je),e,!0)}get y(){return g(U(this,Be))}set y(e){A(U(this,Be),e,!0)}get vx(){return g(U(this,Ze))}set vx(e){A(U(this,Ze),e,!0)}get vy(){return g(U(this,Ve))}set vy(e){A(U(this,Ve),e,!0)}get fx(){return g(U(this,Ue))}set fx(e){A(U(this,Ue),e,!0)}get fy(){return g(U(this,qe))}set fy(e){A(U(this,qe),e,!0)}}je=new WeakMap,Be=new WeakMap,Ze=new WeakMap,Ve=new WeakMap,Ue=new WeakMap,qe=new WeakMap;class Qn{constructor(e,n,r){ie(this,"source");ie(this,"target");ie(this,"data");this.source=e,this.target=n,this.data=r}}class _u extends Dr{constructor(e){super({type:"state",label:`q${e.id}`,force_radius:gu,...e,id:`q${e.id}`})}}class mu extends Dr{constructor(e){super({type:"transition",force_radius:yo,...e,id:`${e.from.data.id}-${e.to.data.id}`}),this.x=(e.from.x+e.to.x)/2,this.y=(e.from.y+e.to.y)/2}}class pu extends Dr{constructor(e){super({type:"self-transition",force_radius:yo,...e,id:`${e.node.data.id}-${e.node.data.id}`}),this.x=e.node.x,this.y=e.node.y+100}}function yu(t){const e=t.states.map(s=>new _u({id:s,is_accepting:t.accepting_state==s,is_starting:t.starting_state==s}));for(const s of e){const f=vr({x:0,y:100},2*Math.PI/e.length);s.x=s.x+f.x,s.y=s.y+f.y}const n=t.transitions.map(s=>({from:"q"+s[0],to:"q"+s[2],readSymbol:t.alphabet[s[1]-1],writeSymbol:t.alphabet[s[3]-1],direction:s[4]})),r=Object.groupBy(n,s=>`${s.from}-${s.to}`),i=[],o=[];for(const[s,l]of Object.entries(r)){if(!l)continue;const f=l[0];if(!f)continue;const d=l.map(c=>`${c.readSymbol}/${c.writeSymbol},${c.direction}`);if(f.from==f.to){const c=e.find(v=>v.data.id==f.from);if(!c)continue;o.push(new pu({node:c,labels:d}))}else{const c=e.find(p=>p.data.id==f.from),v=e.find(p=>p.data.id==f.to);if(!c||!v)continue;i.push(new mu({from:c,to:v,labels:d}))}}const u=i.flatMap(s=>[new Qn(s.data.from,s,{desired_length:hi/2}),new Qn(s,s.data.to,{desired_length:hi/2})]),a=o.map(s=>new Qn(s,s.data.node,{desired_length:vu}));return{nodes:[...i,...o,...e],links:[...u,...a]}}function bu(t,e,n,r,i){if(!e.svg)return;A(n,!0);const o=r(t,e.svg);i().fx=o.x,i().fy=o.y}var wu=W('<line stroke="black" stroke-width="2" marker-end="url(#arrowhead)"></line>'),xu=W('<circle r="25" fill="transparent" stroke="black" stroke-width="2"></circle>'),Su=W('<g class="svelte-12ckb9c"><!><circle r="30" stroke="black" stroke-width="2"></circle><!><text text-anchor="middle" dominant-baseline="middle" class="svelte-12ckb9c"> </text></g>');function Eu(t,e){ft(e,!0);let n=K(e,"state",7),r=K(e,"highlighted",3,!1),i=M(()=>n().data.is_starting),o=M(()=>n().data.is_accepting),u=M(()=>n().x),a=M(()=>n().y),s=M(()=>n().data.id),l=M(()=>r()?g(o)?"lime":"yellow":"white");function f(E,w){const I=w.getBoundingClientRect();return{x:E.clientX-I.left,y:E.clientY-I.top}}let d=D(!1);function c(E){if(!e.svg||!g(d))return;const w=f(E,e.svg);n().fx=w.x,n().fy=w.y}function v(E){A(d,!1),n().fx=void 0,n().fy=void 0}var p=Su();pt("pointerup",At,function(...E){var w;(w=g(d)?v:void 0)==null||w.apply(this,E)}),pt("pointermove",At,function(...E){var w;(w=g(d)?c:void 0)==null||w.apply(this,E)}),pt("pointercancel",At,function(...E){var w;(w=g(d)?v:void 0)==null||w.apply(this,E)}),pt("pointerleave",At,function(...E){var w;(w=g(d)?v:void 0)==null||w.apply(this,E)}),p.__pointerdown=[bu,e,d,f,n];var _=z(p);{var h=E=>{var w=wu();Z(()=>{L(w,"x1",g(u)-100),L(w,"y1",g(a)),L(w,"x2",g(u)-30),L(w,"y2",g(a))}),k(E,w)};yt(_,E=>{g(i)&&E(h)})}var y=O(_),b=O(y);{var x=E=>{var w=xu();Z(()=>{L(w,"cx",g(u)),L(w,"cy",g(a))}),k(E,w)};yt(b,E=>{g(o)&&E(x)})}var m=O(b),S=z(m);Z(()=>{L(p,"id",`state-${g(s)??""}`),L(y,"cx",g(u)),L(y,"cy",g(a)),L(y,"fill",g(l)),L(m,"x",g(u)),L(m,"y",g(a)),be(S,g(s))}),k(t,p),ct()}Ye(["pointerdown"]);var Iu=W('<text text-anchor="middle" dominant-baseline="middle"> </text>'),Tu=W('<rect fill="white" rx="5"></rect><!>',1);function bo(t,e){ft(e,!0);let n=M(()=>e.labels.length),r=20,i=50,o=M(()=>({x:e.x-i/2,y:e.y-r/2}));var u=Tu(),a=qt(u);L(a,"width",i);var s=O(a);On(s,17,()=>e.labels,Or,(l,f,d)=>{var c=Iu(),v=z(c);Z(()=>{L(c,"x",g(o).x+i/2),L(c,"y",g(o).y+d*r+r/2),be(v,g(f))}),k(l,c)}),Z(()=>{L(a,"x",g(o).x),L(a,"y",g(o).y),L(a,"height",g(n)*r)}),k(t,u),ct()}var Au=W('<g><path stroke="black" stroke-width="2" fill="none" marker-end="url(#arrowhead)"></path><!></g>');function zu(t,e){ft(e,!0);let n=M(()=>({x:e.transition.data.from.x,y:e.transition.data.from.y})),r=M(()=>({x:e.transition.data.to.x,y:e.transition.data.to.y})),i=M(()=>({x:e.transition.x,y:e.transition.y})),o=M(()=>ue(le(gr(_r(g(n),g(i))),30),g(n))),u=M(()=>ue(le(gr(_r(g(r),g(i))),-30),g(r)));var a=Au(),s=z(a),l=O(s);bo(l,{get labels(){return e.transition.data.labels},get x(){return g(i).x},get y(){return g(i).y}}),Z(()=>{L(a,"id",`transition-${e.transition.data.id??""}`),L(s,"d",`M ${g(o).x??""} ${g(o).y??""} Q ${g(i).x??""} ${g(i).y??""} ${g(u).x??""} ${g(u).y??""}`)}),k(t,a),ct()}var Nu=W('<g><path stroke="black" stroke-width="2" fill="none" marker-end="url(#arrowhead)"></path><!></g>');function ku(t,e){ft(e,!0);let n=M(()=>({x:e.transition.x,y:e.transition.y})),r=M(()=>({x:e.transition.data.node.x,y:e.transition.data.node.y})),i=M(()=>_r(g(n),g(r))),o=M(()=>gr(g(i))),u=M(()=>po(g(i))),a=M(()=>vr(g(o),-Math.PI/6)),s=M(()=>ue(g(r),le(g(a),30))),l=M(()=>ue(g(r),le(g(a),g(u)))),f=M(()=>vr(g(o),Math.PI/6)),d=M(()=>ue(g(r),le(g(f),30))),c=M(()=>ue(g(r),le(g(f),g(u))));var v=Nu(),p=z(v),_=O(p);bo(_,{get labels(){return e.transition.data.labels},get x(){return e.transition.x},get y(){return e.transition.y}}),Z(()=>{L(v,"id",`self-transition-${e.transition.data.id??""}`),L(p,"d",`M ${g(s).x??""} ${g(s).y??""} C ${g(l).x??""} ${g(l).y??""} ${g(c).x??""} ${g(c).y??""} ${g(d).x??""} ${g(d).y??""}`)}),k(t,v),ct()}var Mu=W("<!><!><!>",1),Cu=G('<div class="w-full h-full"><svg overflow="visible"><defs><marker id="arrowhead" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="8" markerHeight="8" orient="auto-start-reverse"><path d="M 0 0 L 10 5 L 0 10 z"></path></marker></defs><!></svg></div>');function Ou(t,e){ft(e,!0);let n=D(800),r=D(800),i=D(void 0);const{nodes:o,links:u}=yu(e.tm);for(const d of o)d.x+=g(n)/2,d.y+=g(r)/2;const a=du(o).force("link",Ja(u).id(d=>d.data.id).distance(d=>d.data.desired_length).strength(1)).force("charge",hu().strength(d=>d.data.force_radius));Gt(()=>{a.force("center",Oa(g(n)/2,g(r)/2).strength(.1));const d=80,c=d,v=g(n)-d,p=d,_=g(r)-d;a.force("in-x",Xe(c).strength(h=>h.x<c?.5:0)),a.force("in-y",di(p).strength(h=>h.y<p?.5:0)),a.force("out-x",Xe(v).strength(h=>h.x>v?.5:0)),a.force("out-y",di(_).strength(h=>h.y>_?.5:0)),a.force("starting_node_left",Xe(h=>h.data.type==="state"&&h.data.is_starting?50:0).strength(h=>h.data.type==="state"&&h.data.is_starting?.1:0)),a.force("accepting_node_right",Xe(h=>h.data.type==="state"&&h.data.is_accepting?g(n)-50:0).strength(h=>h.data.type==="state"&&h.data.is_accepting?.1:0)),a.alpha(.5)});var s=Cu(),l=z(s),f=O(z(l));On(f,17,()=>o,Or,(d,c)=>{var v=Mu(),p=qt(v);{var _=m=>{const S=M(()=>!!e.highlighted_state&&g(c).data.id=="q"+e.highlighted_state);Eu(m,{get highlighted(){return g(S)},get state(){return g(c)},get svg(){return g(i)}})};yt(p,m=>{g(c).data.type=="state"&&m(_)})}var h=O(p);{var y=m=>{ku(m,{get transition(){return g(c)}})};yt(h,m=>{g(c).data.type=="self-transition"&&m(y)})}var b=O(h);{var x=m=>{zu(m,{get transition(){return g(c)}})};yt(b,m=>{g(c).data.type=="transition"&&m(x)})}k(d,v)}),Pn(l,d=>A(i,d),()=>g(i)),Z(()=>{L(l,"width",g(n)),L(l,"height",g(r)),L(l,"viewBox",`0 0 ${g(n)??""} ${g(r)??""}`)}),lr(s,"clientWidth",d=>A(n,d)),lr(s,"clientHeight",d=>A(r,d)),k(t,s),ct()}function mr(t){const e={tm:t,tape_right:[...t.initial_tape],tape_left:[],current_state:t.starting_state,current_position:0,steps:0,finished:!1,accepted:!1};return pr(e)||(e.finished=!0,e.accepted=e.current_state==e.tm.accepting_state),e}function vi(t){if(t.finished)throw new Error("Turing machine is already finished");const e=pr(t);return Pu(t,e[3]),t.current_state=e[2],t.current_position+=e[4]=="L"?-1:1,t.steps++,pr(t)||(t.finished=!0,t.accepted=t.current_state==t.tm.accepting_state),t}function pr(t){const e=yr(t);return t.tm.transitions.find(r=>r[0]===t.current_state&&r[1]===e)}function yr(t,e=0){const n=t.current_position+e;return wo(t,n)}function wo(t,e){if(e>=0)return t.tape_right[e]??t.tm.empty_symbol;{const n=-e-1;return t.tape_left[n]??t.tm.empty_symbol}}function Pu(t,e){const n=t.current_position;if(n>=0)t.tape_right[n]=e;else{const r=-n-1;t.tape_left[r]=e}}function Xn(t){let e="";for(let n=-15;n<0;n++){const r=yr(t,n),i=t.tm.alphabet[r-1];e+=i}e+=`[q${t.current_state}]`;for(let n=0;n<16;n++){const r=yr(t,n),i=t.tm.alphabet[r-1];e+=i}return e+=` (steps: ${t.steps})`,t.finished&&(e+=t.accepted?" (accepted)":" (rejected)"),e}Ko();var Lu=G('<footer class="bg-white mt-auto"><div class="mx-auto max-w-3xl  py-12 md:flex md:items-center md:justify-between"><div class="flex justify-center gap-x-6 md:order-2"><a class="flex justify-center gap-x-2 md:order-2 text-gray-600 hover:text-gray-800" href="https://github.com/LorisSigrist/utm"><span>View Source</span> <svg class="size-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z" clip-rule="evenodd"></path></svg></a></div> <p class="mt-8 text-center text-sm/6 text-gray-600 md:order-1 md:mt-0">Created by <a href="https://sigrist.dev">Loris Sigrist</a> and Remo Schori</p></div></footer>');function Du(t){var e=Lu();k(t,e)}const tn={START:"start",CENTER:"center",END:"end"},Dt={HORIZONTAL:"horizontal",VERTICAL:"vertical"},Ie={OBSERVED:0,REQUESTED:1},Ru={[Dt.VERTICAL]:"top",[Dt.HORIZONTAL]:"left"},gi={[Dt.VERTICAL]:"scrollTop",[Dt.HORIZONTAL]:"scrollLeft"};class $u{constructor({itemSize:e,itemCount:n,estimatedItemSize:r}){this.itemSize=e,this.itemCount=n,this.estimatedItemSize=r,this.itemSizeAndPositionData={},this.lastMeasuredIndex=-1,this.checkForMismatchItemSizeAndItemCount(),this.justInTime||this.computeTotalSizeAndPositionData()}get justInTime(){return typeof this.itemSize=="function"}updateConfig({itemSize:e,itemCount:n,estimatedItemSize:r}){n!=null&&(this.itemCount=n),r!=null&&(this.estimatedItemSize=r),e!=null&&(this.itemSize=e),this.checkForMismatchItemSizeAndItemCount(),this.justInTime&&this.totalSize!=null?this.totalSize=void 0:this.computeTotalSizeAndPositionData()}checkForMismatchItemSizeAndItemCount(){if(Array.isArray(this.itemSize)&&this.itemSize.length<this.itemCount)throw Error("When itemSize is an array, itemSize.length can't be smaller than itemCount")}getSize(e){const{itemSize:n}=this;return typeof n=="function"?n(e):Array.isArray(n)?n[e]:n}computeTotalSizeAndPositionData(){let e=0;for(let n=0;n<this.itemCount;n++){const r=this.getSize(n),i=e;e+=r,this.itemSizeAndPositionData[n]={offset:i,size:r}}this.totalSize=e}getLastMeasuredIndex(){return this.lastMeasuredIndex}getSizeAndPositionForIndex(e){if(e<0||e>=this.itemCount)throw Error(`Requested index ${e} is outside of range 0..${this.itemCount}`);return this.justInTime?this.getJustInTimeSizeAndPositionForIndex(e):this.itemSizeAndPositionData[e]}getJustInTimeSizeAndPositionForIndex(e){if(e>this.lastMeasuredIndex){const n=this.getSizeAndPositionOfLastMeasuredItem();let r=n.offset+n.size;for(let i=this.lastMeasuredIndex+1;i<=e;i++){const o=this.getSize(i);if(o==null||isNaN(o))throw Error(`Invalid size returned for index ${i} of value ${o}`);this.itemSizeAndPositionData[i]={offset:r,size:o},r+=o}this.lastMeasuredIndex=e}return this.itemSizeAndPositionData[e]}getSizeAndPositionOfLastMeasuredItem(){return this.lastMeasuredIndex>=0?this.itemSizeAndPositionData[this.lastMeasuredIndex]:{offset:0,size:0}}getTotalSize(){if(this.totalSize)return this.totalSize;const e=this.getSizeAndPositionOfLastMeasuredItem();return e.offset+e.size+(this.itemCount-this.lastMeasuredIndex-1)*this.estimatedItemSize}getUpdatedOffsetForIndex({align:e=tn.START,containerSize:n,currentOffset:r,targetIndex:i}){if(n<=0)return 0;const o=this.getSizeAndPositionForIndex(i),u=o.offset,a=u-n+o.size;let s;switch(e){case tn.END:s=a;break;case tn.CENTER:s=u-(n-o.size)/2;break;case tn.START:s=u;break;default:s=Math.max(a,Math.min(u,r))}const l=this.getTotalSize();return Math.max(0,Math.min(l-n,s))}getVisibleRange({containerSize:e=0,offset:n,overscanCount:r}){if(this.getTotalSize()===0)return{};const o=n+e;let u=this.findNearestItem(n);if(u===void 0)throw Error(`Invalid offset ${n} specified`);const a=this.getSizeAndPositionForIndex(u);n=a.offset+a.size;let s=u;for(;n<o&&s<this.itemCount-1;)s++,n+=this.getSizeAndPositionForIndex(s).size;return r&&(u=Math.max(0,u-r),s=Math.min(s+r,this.itemCount-1)),{start:u,stop:s}}resetItem(e){this.lastMeasuredIndex=Math.min(this.lastMeasuredIndex,e-1)}findNearestItem(e){if(isNaN(e))throw Error(`Invalid offset ${e} specified`);e=Math.max(0,e);const n=this.getSizeAndPositionOfLastMeasuredItem(),r=Math.max(0,this.lastMeasuredIndex);return n.offset>=e?this.binarySearch({high:r,low:0,offset:e}):this.exponentialSearch({index:r,offset:e})}binarySearch({low:e,high:n,offset:r}){let i=0,o=0;for(;e<=n;){if(i=e+Math.floor((n-e)/2),o=this.getSizeAndPositionForIndex(i).offset,o===r)return i;o<r?e=i+1:o>r&&(n=i-1)}return e>0?e-1:0}exponentialSearch({index:e,offset:n}){let r=1;for(;e<this.itemCount&&this.getSizeAndPositionForIndex(e).offset<n;)e+=r,r*=2;return this.binarySearch({high:Math.min(e,this.itemCount-1),low:Math.floor(e/2),offset:n})}}const Fu=(()=>{let t=!1;try{const e=Object.defineProperty({},"passive",{get(){return t={passive:!0},!0}});window.addEventListener("testpassive",e,e),window.remove("testpassive",e,e)}catch{}return t})();var ju=G('<div class="virtual-list-wrapper svelte-dwpad5"><!> <div class="virtual-list-inner svelte-dwpad5"></div> <!></div>');function Bu(t,e){ft(e,!1);let n=K(e,"height",12),r=K(e,"width",12,"100%"),i=K(e,"itemCount",12),o=K(e,"itemSize",12),u=K(e,"estimatedItemSize",12,null),a=K(e,"stickyIndices",12,null),s=K(e,"getKey",12,null),l=K(e,"scrollDirection",28,()=>Dt.VERTICAL),f=K(e,"scrollOffset",12,null),d=K(e,"scrollToIndex",12,null),c=K(e,"scrollToAlignment",12,null),v=K(e,"scrollToBehaviour",12,"instant"),p=K(e,"overscanCount",12,3);const _=la(),h=new $u({itemCount:i(),itemSize:o(),estimatedItemSize:P()});let y=jt(!1),b=jt(),x=jt([]),m=jt({offset:f()||d()!=null&&g(x).length&&xt(d())||0,scrollChangeReason:Ie.REQUESTED}),S=g(m),E={scrollToIndex:d(),scrollToAlignment:c(),scrollOffset:f(),itemCount:i(),itemSize:o(),estimatedItemSize:u()},w={},I=jt(""),C=jt("");H(),Ln(()=>{A(y,!0),g(b).addEventListener("scroll",Ct,Fu),f()!=null?rt(f()):d()!=null&&rt(xt(d()))}),aa(()=>{g(y)&&g(b).removeEventListener("scroll",Ct)});function N(){if(!g(y))return;const T=E.scrollToIndex!==d()||E.scrollToAlignment!==c(),V=E.itemCount!==i()||E.itemSize!==o()||E.estimatedItemSize!==u();V&&(h.updateConfig({itemSize:o(),itemCount:i(),estimatedItemSize:P()}),Y()),E.scrollOffset!==f()?A(m,{offset:f()||0,scrollChangeReason:Ie.REQUESTED}):typeof d()=="number"&&(T||V)&&A(m,{offset:xt(d(),c(),i()),scrollChangeReason:Ie.REQUESTED}),E={scrollToIndex:d(),scrollToAlignment:c(),scrollOffset:f(),itemCount:i(),itemSize:o(),estimatedItemSize:u()}}function j(){if(!g(y))return;const{offset:T,scrollChangeReason:V}=g(m);(S.offset!==T||S.scrollChangeReason!==V)&&H(),S.offset!==T&&V===Ie.REQUESTED&&rt(T),S=g(m)}function H(){const{offset:T}=g(m),{start:V,stop:it}=h.getVisibleRange({containerSize:l()===Dt.VERTICAL?n():r(),offset:T,overscanCount:p()});let dt=[];const Et=h.getTotalSize();if(l()===Dt.VERTICAL){const ot=typeof n()=="number"?"px":"";A(I,`height:${n()}${ot};width:${r()};`),A(C,`flex-direction:column;height:${Et}px;`)}else{const ot=typeof r()=="number"?"px":"";A(I,`height:${n()};width:${r()}${ot}`),A(C,`min-height:100%;width:${Et}px;`)}const $r=a()!=null&&a().length!==0;if($r)for(let ot=0;ot<a().length;ot++){const Fr=a()[ot];dt.push({index:Fr,style:q(Fr,!0)})}if(V!==void 0&&it!==void 0){for(let ot=V;ot<=it;ot++)$r&&a().includes(ot)||dt.push({index:ot,style:q(ot,!1)});_("itemsUpdated",{start:V,end:it})}A(x,dt)}function rt(T){"scroll"in g(b)?g(b).scroll({[Ru[l()]]:T,behavior:v()}):fs(b,g(b)[gi[l()]]=T)}function Y(T=0){w={},h.resetItem(T),H()}function xt(T,V=c(),it=i()){return(T<0||T>=it)&&(T=0),h.getUpdatedOffsetForIndex({align:V,containerSize:l()===Dt.VERTICAL?n():r(),currentOffset:g(m).offset||0,targetIndex:T})}function Ct(T){const V=Ot();V<0||g(m).offset===V||T.target!==g(b)||(A(m,{offset:V,scrollChangeReason:Ie.OBSERVED}),_("afterScroll",{offset:V,event:T}))}function Ot(){return g(b)[gi[l()]]}function P(){return u()||typeof o()=="number"&&o()||50}function q(T,V){if(w[T])return w[T];const{size:it,offset:dt}=h.getSizeAndPositionForIndex(T);let Et;return l()===Dt.VERTICAL?(Et=`left:0;width:100%;height:${it}px;`,V?Et+=`position:sticky;flex-grow:0;z-index:1;top:0;margin-top:${dt}px;margin-bottom:${-(dt+it)}px;`:Et+=`position:absolute;top:${dt}px;`):(Et=`top:0;width:${it}px;`,V?Et+=`position:sticky;z-index:1;left:0;margin-left:${dt}px;margin-right:${-(dt+it)}px;`:Et+=`position:absolute;height:100%;left:${dt}px;`),w[T]=Et}qn(()=>(It(d()),It(c()),It(f()),It(i()),It(o()),It(u())),()=>{d(),c(),f(),i(),o(),u(),N()}),qn(()=>g(m),()=>{g(m),j()}),qn(()=>(It(n()),It(r()),It(a()),g(y)),()=>{n(),r(),a(),g(y)&&Y(0)}),ms(),ia();var St=ju(),we=z(St);Gn(we,e,"header",{});var Bn=O(we,2);On(Bn,5,()=>g(x),T=>s()?s()(T.index):T.index,(T,V)=>{var it=Xi(),dt=qt(it);Gn(dt,e,"item",{get style(){return g(V).style},get index(){return g(V).index}}),k(T,it)});var To=O(Bn,2);return Gn(To,e,"footer",{}),Pn(St,T=>A(b,T),()=>g(b)),Z(()=>{_n(St,g(I)),_n(Bn,g(C))}),k(t,St),na(e,"recomputeSizes",Y),ct({recomputeSizes:Y,get height(){return n()},set height(T){n(T),st()},get width(){return r()},set width(T){r(T),st()},get itemCount(){return i()},set itemCount(T){i(T),st()},get itemSize(){return o()},set itemSize(T){o(T),st()},get estimatedItemSize(){return u()},set estimatedItemSize(T){u(T),st()},get stickyIndices(){return a()},set stickyIndices(T){a(T),st()},get getKey(){return s()},set getKey(T){s(T),st()},get scrollDirection(){return l()},set scrollDirection(T){l(T),st()},get scrollOffset(){return f()},set scrollOffset(T){f(T),st()},get scrollToIndex(){return d()},set scrollToIndex(T){d(T),st()},get scrollToAlignment(){return c()},set scrollToAlignment(T){c(T),st()},get scrollToBehaviour(){return v()},set scrollToBehaviour(T){v(T),st()},get overscanCount(){return p()},set overscanCount(T){p(T),st()}})}var Zu=G('<div class="absolute inset-0 bg-yellow-300"></div>'),Vu=G('<div class="absolute inset-0 grid place-items-center"><span> </span></div>'),Uu=G("<div><!> <!></div>"),qu=G('<div slot="item"><!></div>'),Gu=G('<div class="w-full h-12 flex flex-row justify-between border-y shadow-xl border-gray-100"><!></div>');function Hu(t,e){ft(e,!0);const n=(p,_=se)=>{var h=Uu();const y=M(()=>wo(e.configuration,_())),b=M(()=>e.configuration.tm.alphabet[g(y)-1]),x=M(()=>_()===e.configuration.current_position);var m=z(h);{var S=w=>{var I=Zu();zt(1,I,()=>d,()=>({duration:300/e.speed,key:"current",delay:0/e.speed})),zt(2,I,()=>f,()=>({duration:300/e.speed,key:"current",delay:0/e.speed})),k(w,I)};yt(m,w=>{g(x)&&!e.configuration.finished&&w(S)})}var E=O(m,2);to(E,()=>g(b),w=>{var I=Vu(),C=z(I),N=z(C);Z(()=>be(N,g(b))),zt(1,I,()=>cr,()=>({duration:100,y:-48,opacity:0})),zt(2,I,()=>cr,()=>({duration:100,y:i,opacity:0})),k(w,I)}),Z(w=>{Me(h,1,`relative w-full h-full font-mono cursor-pointer ${g(x)&&e.configuration.finished?e.configuration.accepted?"text-white bg-green-600":"text-white bg-red-600":"text-black"}
      }`),L(h,"title",w)},[()=>_().toString(10)]),k(p,h)};let r=D(1e3);const i=48;let o=1e4,u=D(0),a=M(()=>i*(o+g(u))-g(r)/2+i/2),s=D(void 0);function l(p){g(s)&&A(u,p,!0)}const[f,d]=pa({});var c=Gu(),v=z(c);return Pn(Bu(v,{height:"48px",get width(){return g(r)},scrollDirection:"horizontal",get scrollOffset(){return g(a)},scrollToBehaviour:"smooth",itemCount:1e6,itemSize:i,$$slots:{item:(p,_)=>{var h=qu();const y=M(()=>_.index),b=M(()=>_.style),x=M(()=>g(y)-o);var m=z(h);n(m,()=>g(x)),Z(()=>_n(h,g(b))),k(p,h)}}}),p=>A(s,p,!0),()=>g(s)),lr(c,"clientWidth",p=>A(r,p)),k(t,c),ct({scrollToPosition:l})}var Ku=W('<svg><path fill="currentColor" d="M3 3.732a1.5 1.5 0 0 1 2.305-1.265l6.706 4.267a1.5 1.5 0 0 1 0 2.531l-6.706 4.268A1.5 1.5 0 0 1 3 12.267z"></path></svg>');function Wu(t,e){const n=Yt(e,["$$slots","$$events","$$legacy"]);var r=Ku();let i;Z(()=>i=Wt(r,i,{viewBox:"0 0 16 16",width:"1.2em",height:"1.2em",...n})),k(t,r)}var Yu=W('<svg><path fill="currentColor" d="M4.5 2a.5.5 0 0 0-.5.5v11a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-11a.5.5 0 0 0-.5-.5zm6 0a.5.5 0 0 0-.5.5v11a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-11a.5.5 0 0 0-.5-.5z"></path></svg>');function Ju(t,e){const n=Yt(e,["$$slots","$$events","$$legacy"]);var r=Yu();let i;Z(()=>i=Wt(r,i,{viewBox:"0 0 16 16",width:"1.2em",height:"1.2em",...n})),k(t,r)}var Qu=W('<svg><path fill="currentColor" fill-rule="evenodd" d="M12.5 9.75A2.75 2.75 0 0 0 9.75 7H4.56l2.22 2.22a.75.75 0 1 1-1.06 1.06l-3.5-3.5a.75.75 0 0 1 0-1.06l3.5-3.5a.75.75 0 0 1 1.06 1.06L4.56 5.5h5.19a4.25 4.25 0 0 1 0 8.5h-1a.75.75 0 0 1 0-1.5h1a2.75 2.75 0 0 0 2.75-2.75" clip-rule="evenodd"></path></svg>');function Xu(t,e){const n=Yt(e,["$$slots","$$events","$$legacy"]);var r=Qu();let i;Z(()=>i=Wt(r,i,{viewBox:"0 0 16 16",width:"1.2em",height:"1.2em",...n})),k(t,r)}var tl=W('<svg><path fill="currentColor" fill-rule="evenodd" d="M2 8a.75.75 0 0 1 .75-.75h8.69L8.22 4.03a.75.75 0 0 1 1.06-1.06l4.5 4.5a.75.75 0 0 1 0 1.06l-4.5 4.5a.75.75 0 0 1-1.06-1.06l3.22-3.22H2.75A.75.75 0 0 1 2 8" clip-rule="evenodd"></path></svg>');function el(t,e){const n=Yt(e,["$$slots","$$events","$$legacy"]);var r=tl();let i;Z(()=>i=Wt(r,i,{viewBox:"0 0 16 16",width:"1.2em",height:"1.2em",...n})),k(t,r)}var nl=W('<svg><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="m12.75 15l3-3m0 0l-3-3m3 3h-7.5M21 12a9 9 0 1 1-18 0a9 9 0 0 1 18 0"></path></svg>');function rl(t,e){const n=Yt(e,["$$slots","$$events","$$legacy"]);var r=nl();let i;Z(()=>i=Wt(r,i,{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...n})),k(t,r)}var il=G('<div class="absolute inset-0"><!></div>'),ol=G('<div class="absolute inset-0"><!></div>'),sl=G(`<div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 mb-6"><section class="mx-auto max-w-3xl"><div class="w-full flex flex-row items-center justify-between"><div class="flex-1/3 flex flex-row justify-start"><span class="text-gray-700 gap-4 items-center w-20"> </span></div> <div class="flex-1/3 flex flex-row gap-6 justify-center"><button title="Reset" class="text-gray-700 disabled:text-gray-300 disabled:cursor-not-allowed"><!></button> <button class="size-12 relative"><!></button> <button class="text-gray-700 disabled:text-gray-300 disabled:cursor-not-allowed" title="Take a single step"><!></button></div> <div class="flex-1/3 flex flex-row justify-end"><button type="button" class="
          rounded-md
          hover:bg-gray-100
          px-2.5 py-1.5 text-sm font-semibold text-gray-600 disabled:text-gray-300 disabled:hover:bg-transparent disabled:cursor-not-allowed flex flex-row gap-2 items-center"><span>Run to Completion</span> <!></button></div></div></section></div> <div class="pb-12"><!></div>`,1);function al(t,e){ft(e,!0);let n=K(e,"configuration",15),r=D(void 0),i=D(!1),o=2;function u(){!n()||n().finished||(n(vi(n())),console.log(Xn(n())),g(r)&&g(r).scrollToPosition(n().current_position),n().finished&&d())}function a(){if(!n()||n().finished)return;d();const P=5e6;let q=structuredClone(us(n()));for(let we=0;we<P;we++)if(q=vi(q),q.finished){n(q),console.log(Xn(n())),g(r)&&g(r).scrollToPosition(q.current_position);return}n(q);const St=new Intl.NumberFormat("en-US",{notation:"standard"}).format(P);alert(`Paused Execution after ${St} steps`),g(r)&&g(r).scrollToPosition(n().current_position)}function s(){A(i,!1),l&&clearInterval(l),n(mr(n().tm)),console.log(Xn(n())),g(r)&&g(r).scrollToPosition(n().current_position)}let l=null;function f(){A(i,!0),l&&clearInterval(l),n().finished&&n(mr(n().tm)),u(),l=setInterval(u,1e3/o)}function d(){A(i,!1),l&&clearInterval(l)}Ln(()=>(s(),()=>{l&&clearInterval(l)}));function c(P){if(!(document.activeElement&&document.activeElement!==document.body&&!(document.activeElement instanceof HTMLButtonElement))){if(P.key==="ArrowRight"&&(P.ctrlKey||P.metaKey?a():u(),P.preventDefault()),P.key===" "){if(document.activeElement instanceof HTMLButtonElement)return;g(i)?d():f(),P.preventDefault()}P.key==="ArrowLeft"&&(P.ctrlKey||P.metaKey)&&(s(),P.preventDefault())}}var v=sl();pt("keydown",At,c);var p=qt(v),_=z(p),h=z(_),y=z(h),b=z(y),x=z(b),m=O(y,2),S=z(m);S.__click=s;var E=z(S);Xu(E,{class:"size-6"});var w=O(S,2);w.__click=function(...P){var q;(q=g(i)?d:f)==null||q.apply(this,P)};var I=z(w);{var C=P=>{var q=il(),St=z(q);Ju(St,{class:"size-12 text-gray-700"}),zt(3,q,()=>mn,()=>({duration:100,start:.4,opacity:0})),k(P,q)},N=P=>{var q=ol(),St=z(q);Wu(St,{class:"size-12 text-gray-700"}),zt(3,q,()=>mn,()=>({duration:100,start:.4,opacity:0})),k(P,q)};yt(I,P=>{g(i)?P(C):P(N,!1)})}var j=O(w,2);j.__click=u;var H=z(j);el(H,{class:"size-6"});var rt=O(m,2),Y=z(rt);Y.__click=a;var xt=O(z(Y),2);rl(xt,{class:"inline size-6"});var Ct=O(p,2),Ot=z(Ct);Pn(Hu(Ot,{get configuration(){return n()},get speed(){return o}}),P=>A(r,P,!0),()=>g(r)),Z(()=>{be(x,`Step ${n().steps??""}`),S.disabled=n().steps===0,L(w,"title",g(i)?"Pause":"Play"),j.disabled=n().finished,Y.disabled=n().finished}),k(t,v),ct()}Ye(["click"]);var ul=G('<div class="fixed inset-0"><div class="absolute inset-0 bg-gray-900 opacity-50"></div> <div class="absolute inset-0 grid place-items-center"><p class="text-white text-2xl">Drop</p></div></div>');function ll(t,e){ft(e,!0);let n=D(!1);function r(l){l.preventDefault(),A(n,!0)}function i(l){l.preventDefault(),A(n,!1)}function o(l){if(l.preventDefault(),A(n,!1),!("dataTransfer"in l)||!(l.dataTransfer instanceof DataTransfer))return;const f=l.dataTransfer.files;if(f.length>1){alert("Only drop one file at a time");return}const d=f[0];if(d){if(e.allow&&!e.allow.includes(d.type)){alert("File type not allowed - Allowed: "+e.allow.join(", "));return}e.onFileDrop&&e.onFileDrop(d)}}var u=Xi();pt("drop",At,o),pt("dragover",At,r),pt("dragleave",At,i);var a=qt(u);{var s=l=>{var f=ul();k(l,f)};yt(a,l=>{g(n)&&l(s)})}k(t,u),ct()}function B(t,e){class n{constructor(i){var o;const u=this;n.init(u,i),(o=u._zod).deferred??(o.deferred=[]);for(const a of u._zod.deferred)a()}static init(i,o){var u;i._zod??(i._zod={}),(u=i._zod).traits??(u.traits=new Set),i._zod.traits.add(t),e(i,o);for(const a in n.prototype)Object.defineProperty(i,a,{value:n.prototype[a].bind(i)});i._zod.constr=n,i._zod.def=o}static[Symbol.hasInstance](i){var o,u;return(u=(o=i==null?void 0:i._zod)==null?void 0:o.traits)==null?void 0:u.has(t)}}return Object.defineProperty(n,"name",{value:t}),n}class bn extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const fl={};function Rn(t){return fl}function cl(t,e){return typeof e=="bigint"?e.toString():e}function xo(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function dl(t){return t==null}function br(t,e,n){Object.defineProperty(t,e,{get(){{const r=n();return t[e]=r,r}},set(r){Object.defineProperty(t,e,{value:r})},configurable:!0})}function So(t=10){const e="abcdefghijklmnopqrstuvwxyz";let n="";for(let r=0;r<t;r++)n+=e[Math.floor(Math.random()*e.length)];return n}function Te(t){return JSON.stringify(t)}function hl(t){return typeof t=="object"&&t!==null}const vl=xo(()=>{try{return new Function(""),!0}catch{return!1}}),gl=new Set(["string","number","symbol"]);function Eo(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function _l(t,e){return new t._zod.constr(e)}function wt(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if((e==null?void 0:e.message)!==void 0){if((e==null?void 0:e.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function ml(t){return Object.keys(t).filter(e=>t[e]._zod.qout==="true")}const pl={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-17976931348623157e292,17976931348623157e292]};function tr(t,e=0){for(let n=e;n<t.issues.length;n++)if(t.issues[n].continue!==!0)return!0;return!1}function $n(t,e){return e.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(t),n})}function en(t){return typeof t=="string"?t:t==null?void 0:t.message}function Fn(t,e,n){var i,o,u,a,s,l;const r={...t,path:t.path??[]};if(!t.message){const f=en((u=(o=(i=t.inst)==null?void 0:i._zod.def)==null?void 0:o.error)==null?void 0:u.call(o,t))??en((a=e==null?void 0:e.error)==null?void 0:a.call(e,t))??en((s=n.customError)==null?void 0:s.call(n,t))??en((l=n.localeError)==null?void 0:l.call(n,t))??"Invalid input";r.message=f}return delete r.inst,delete r.continue,e!=null&&e.reportInput||delete r.input,r}function yl(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}const _i=Symbol.for("{{zod.error}}");class Jt{get message(){return JSON.stringify(this.issues,cl,2)}constructor(e){Object.defineProperty(this,"_tag",{value:_i,enumerable:!1}),Object.defineProperty(this,"name",{value:"$ZodError",enumerable:!1}),this.issues=e}static[Symbol.hasInstance](e){return(e==null?void 0:e._tag)===_i}}function bl(t,e,n){const r=n?{...n,async:!1}:{async:!1},i=t._zod.run({value:e,issues:[]},r);if(i instanceof Promise)throw new bn;if(i.issues.length)throw new((this==null?void 0:this.Error)??Jt)(i.issues.map(o=>Fn(o,r,Rn())));return i.value}function wl(t,e,n){const r=n?{...n,async:!1}:{async:!1},i=t._zod.run({value:e,issues:[]},r);if(i instanceof Promise)throw new bn;return i.issues.length?{success:!1,error:new((this==null?void 0:this.Error)??Jt)(i.issues.map(o=>Fn(o,r,Rn())))}:{success:!0,data:i.value}}async function xl(t,e,n){const r=n?{...n,async:!0}:{async:!0};let i=t._zod.run({value:e,issues:[]},r);if(i instanceof Promise&&(i=await i),i.issues.length)throw new((this==null?void 0:this.Error)??Jt)(i.issues.map(o=>Fn(o,r,Rn())));return i.value}async function Sl(t,e,n){const r=n?{...n,async:!0}:{async:!0};let i=t._zod.run({value:e,issues:[]},r);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new((this==null?void 0:this.Error)??Jt)(i.issues.map(o=>Fn(o,r,Rn())))}:{success:!0,data:i.value}}const El=t=>{const e=t?`[\\s\\S]{${(t==null?void 0:t.minimum)??0},${(t==null?void 0:t.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},Il=/^\d+$/,Tl=/^-?\d+(?:\.\d+)?/i,Al=/true|false/i,Rr=B("$ZodCheck",(t,e)=>{t._zod??(t._zod={}),t._zod.def=e}),zl={number:"number",bigint:"bigint",object:"date"},Nl=B("$ZodCheckGreaterThan",(t,e)=>{Rr.init(t,e);const n=zl[typeof e.value];t._zod.onattach=r=>{const i=r._zod.computed.minimum??Number.NEGATIVE_INFINITY;e.value>i&&(r._zod.computed.minimum=e.value,r._zod.computed.inclusive=e.inclusive)},t._zod.check=r=>{(e.inclusive?r.value>=e.value:r.value>e.value)||r.issues.push({origin:n,code:"too_small",minimum:e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),kl=B("$ZodNumber",(t,e)=>{var u;Rr.init(t,e),e.format=e.format||"float64";const n=(u=e.format)==null?void 0:u.includes("int"),r=n?"int":"number",[i,o]=pl[e.format];t._zod.onattach=a=>{a._zod.computed.format=e.format,a._zod.computed.minimum=i,a._zod.computed.maximum=o,n&&(a._zod.computed.pattern=Il)},t._zod.check=a=>{const s=a.value;if(n){if(!Number.isInteger(s)){a.issues.push({expected:r,format:e.format,code:"invalid_type",input:s,inst:t});return}if(!Number.isSafeInteger(s)){s>0?a.issues.push({input:s,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the the safe integer range.",inst:t,origin:r,continue:!e.abort}):a.issues.push({input:s,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,continue:!e.abort});return}}s<i&&a.issues.push({origin:"number",input:s,code:"too_small",minimum:i,inclusive:!0,inst:t,continue:!e.abort}),s>o&&a.issues.push({origin:"number",input:s,code:"too_big",maximum:o,inst:t})}}),Ml=B("$ZodCheckMinLength",(t,e)=>{Rr.init(t,e),t._zod.when=n=>{const r=n.value;return!dl(r)&&r.length!==void 0},t._zod.onattach=n=>{const r=n._zod.computed.minimum??Number.NEGATIVE_INFINITY;e.minimum>r&&(n._zod.computed.minimum=e.minimum)},t._zod.check=n=>{const r=n.value;if(r.length>=e.minimum)return;const o=yl(r);n.issues.push({origin:o,code:"too_small",minimum:e.minimum,input:r,inst:t,continue:!e.abort})}});class Cl{constructor(e){this.content=[],this.indent=0,this.args=e}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const r=e.split(`
`).filter(u=>u),i=Math.min(...r.map(u=>u.length-u.trimStart().length)),o=r.map(u=>u.slice(i)).map(u=>" ".repeat(this.indent*2)+u);for(const u of o)this.content.push(u)}compile(){const e=[...this.content.map(n=>`  ${n}`)];return new Function(...this.args,e.join(`
`))}}const Mt=B("$ZodType",(t,e)=>{var i,o,u;var n;t??(t={}),t._zod.id=e.type+"_"+So(10),t._zod.def=e,t._zod.computed=t._zod.computed||{};const r=[...t._zod.def.checks??[]];e.type,t._zod.traits.has("$ZodCheck")&&r.unshift(t);for(const a of r)(o=(i=a._zod).onattach)==null||o.call(i,t);if(r.length===0)(n=t._zod).deferred??(n.deferred=[]),(u=t._zod.deferred)==null||u.push(()=>{t._zod.run=t._zod.parse});else{const a=(s,l,f)=>{let d=tr(s),c;for(const v of l){if(v._zod.when){if(!v._zod.when(s))continue}else if(d)continue;const p=s.issues.length,_=v._zod.check(s);if(_ instanceof Promise&&(f==null?void 0:f.async)===!1)throw new bn;if(c||_ instanceof Promise)c=c??Promise.resolve(),c.then(async()=>{await _,s.issues.length!==p&&(d||(d=tr(s,p)))});else{if(s.issues.length===p)continue;d||(d=tr(s,p))}}return c?c.then(()=>s):s};t._zod.run=(s,l)=>{const f=t._zod.parse(s,l);if(f instanceof Promise){if(l.async===!1)throw new bn;return f.then(d=>a(d,r,l))}return a(f,r,l)}}br(t,"~standard",()=>({validate:a=>{const s=t._zod.run({value:a,issues:[]},{});return s instanceof Promise?s.then(({issues:l,value:f})=>l.length===0?{value:f}:{issues:l}):s.issues.length===0?{value:s.value}:{issues:s.issues}},vendor:"zod",version:1}))}),Ol=B("$ZodString",(t,e)=>{var n;Mt.init(t,e),t._zod.pattern=((n=t==null?void 0:t._zod.computed)==null?void 0:n.pattern)??El(t._zod.computed),t._zod.parse=(r,i)=>{if(e.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:t}),r}}),Io=B("$ZodNumber",(t,e)=>{Mt.init(t,e),t._zod.pattern=t._zod.computed.pattern??Tl,t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=Number(n.value)}catch{}const i=n.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return n;const o=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:i,inst:t,...o?{received:o}:{}}),n}}),Pl=B("$ZodNumber",(t,e)=>{kl.init(t,e),Io.init(t,e)}),Ll=B("$ZodBoolean",(t,e)=>{Mt.init(t,e),t._zod.pattern=Al,t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=!!n.value}catch{}const i=n.value;return typeof i=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:t}),n}});function mi(t,e,n){t.issues.length&&e.issues.push(...$n(n,t.issues)),e.value[n]=t.value}const Dl=B("$ZodArray",(t,e)=>{Mt.init(t,e),t._zod.parse=(n,r)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({expected:"array",code:"invalid_type",input:i,inst:t}),n;n.value=Array(i.length);const o=[];for(let u=0;u<i.length;u++){const a=i[u],s=e.element._zod.run({value:a,issues:[]},r);s instanceof Promise?o.push(s.then(l=>mi(l,n,u))):mi(s,n,u)}return o.length?Promise.all(o).then(()=>n):n}});function nn(t,e,n){t.issues.length?e.issues.push(...$n(n,t.issues)):e.value[n]=t.value}function pi(t,e,n,r){t.issues.length?r[n]===void 0?n in r&&(e.value[n]=void 0):e.issues.push(...$n(n,t.issues)):t.value===void 0?n in r&&(e.value[n]=void 0):e.value[n]=t.value}const Rl=B("$ZodObjectLike",(t,e)=>{Mt.init(t,e),br(t._zod,"shape",()=>e.shape);const n=xo(()=>{const s=Object.keys(e.shape);return{shape:e.shape,keys:s,keySet:new Set(s),numKeys:s.length,optionalKeys:new Set(e.optional)}});br(t._zod,"disc",()=>{const s=e.shape,l=new Map;let f=!1;for(const d in s){const c=s[d]._zod;if(c.values||c.disc){f=!0;const v={values:new Set(c.values??[]),maps:c.disc?[c.disc]:[]};l.set(d,v)}}if(f)return l});const r=s=>{const l=new Cl(["shape","payload","ctx"]),{keys:f,optionalKeys:d}=n.value,c=_=>{const h=Te(_);return`shape[${h}]._zod.run({ value: input[${h}], issues: [] }, ctx)`};l.write("const input = payload.value;");const v={};for(const _ of f)v[_]=So(15);for(const _ of f){if(d.has(_))continue;const h=v[_];l.write(`const ${h} = ${c(_)};`),l.write(`
          if (${h}.issues.length) payload.issues = payload.issues.concat(${h}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${Te(_)}, ...iss.path] : [${Te(_)}]
          })));`)}l.write("payload.value = {"),l.indented(()=>{for(const _ of f){if(d.has(_))continue;const h=v[_];l.write(`  ${Te(_)}: ${h}.value,`)}}),l.write("}");for(const _ of f){if(!d.has(_))continue;const h=v[_];l.write(`const ${h} = ${c(_)};`);const y=Te(_);l.write(`
        if (${h}.issues.length) {
          if (input[${y}] === undefined) {
            if (${y} in input) {
              payload.value[${y}] = undefined;
            }
          } else {
            payload.issues = payload.issues.concat(
              ${h}.issues.map((iss) => ({
                ...iss,
                path: iss.path ? [${y}, ...iss.path] : [${y}],
              }))
            );
          }
        } else if (${h}.value === undefined) {
          if (${y} in input) payload.value[${y}] = undefined;
        } else {
          payload.value[${y}] = ${h}.value;
        }  
        `)}l.write("return payload;");const p=l.compile();return(_,h)=>p(s,_,h)};let i;const o=vl.value,u=hl,{catchall:a}=e;t._zod.parse=(s,l)=>{const f=s.value;if(!u(f))return s.issues.push({expected:"object",code:"invalid_type",input:f,inst:t}),s;const d=[];if(o&&(l==null?void 0:l.async)===!1&&l.noPrecompilation!==!0)i||(i=r(e.shape)),s=i(s,l);else{s.value={};const{keys:v,shape:p,optionalKeys:_}=n.value;for(const h of v){const b=p[h]._zod.run({value:f[h],issues:[]},l),x=_.has(h);b instanceof Promise?d.push(b.then(m=>x?pi(m,s,h,f):nn(m,s,h))):x?pi(b,s,h,f):nn(b,s,h)}}if(!a)return d.length?Promise.all(d).then(()=>s):s;const c=[];for(const v of Object.keys(f)){if(n.value.keySet.has(v))continue;if(a._zod.def.type==="never"){c.push(v);continue}const p=a._zod.run({value:f[v],issues:[]},l);p instanceof Promise?d.push(p.then(_=>nn(_,s,v))):nn(p,s,v)}return c.length&&s.issues.push({code:"unrecognized_keys",keys:c,input:f,inst:t}),d.length?Promise.all(d).then(()=>s):s}}),$l=B("$ZodObject",(t,e)=>{Rl.init(t,e)}),Fl=B("$ZodTuple",(t,e)=>{Mt.init(t,e);const n=e.items,r=n.length-[...n].reverse().findIndex(i=>i._zod.qout!=="true");t._zod.parse=(i,o)=>{const u=i.value;if(!Array.isArray(u))return i.issues.push({input:u,inst:t,expected:"tuple",code:"invalid_type"}),i;i.value=[];const a=[];if(!e.rest){const l=u.length>n.length,f=u.length<r-1;if(l||f)return i.issues.push({input:u,inst:t,origin:"array",...l?{code:"too_big",maximum:n.length}:{code:"too_small",minimum:n.length}}),i}let s=-1;for(const l of n){if(s++,s>=u.length&&s>=r)continue;const f=l._zod.run({value:u[s],issues:[]},o);f instanceof Promise?a.push(f.then(d=>rn(d,i,s))):rn(f,i,s)}if(e.rest){const l=u.slice(n.length);for(const f of l){s++;const d=e.rest._zod.run({value:f,issues:[]},o);d instanceof Promise?a.push(d.then(c=>rn(c,i,s))):rn(d,i,s)}}return a.length?Promise.all(a).then(()=>i):i}});function rn(t,e,n){t.issues.length?e.issues.push(...$n(n,t.issues)):e.value[n]=t.value}const jl=B("$ZodEnum",(t,e)=>{Mt.init(t,e);const n=Object.entries(e.entries).filter(([r,i])=>typeof e.entries[e.entries[r]]!="number").map(([r,i])=>i);t._zod.values=new Set(n),t._zod.pattern=new RegExp(`^(${n.filter(r=>gl.has(typeof r)).map(r=>typeof r=="string"?Eo(r):r.toString()).join("|")})$`),t._zod.parse=(r,i)=>{const o=r.value;return t._zod.values.has(o)||r.issues.push({code:"invalid_value",values:n,input:o,inst:t}),r}}),Bl=B("$ZodLiteral",(t,e)=>{Mt.init(t,e),t._zod.values=new Set(e.values),t._zod.pattern=new RegExp(`^(${e.values.map(n=>typeof n=="string"?Eo(n):n?n.toString():String(n)).join("|")})$`),t._zod.parse=(n,r)=>{const i=n.value;return t._zod.values.has(i)||n.issues.push({code:"invalid_value",values:e.values,input:i,inst:t}),n}});function Zl(t,e){return new t({type:"string",...wt(e)})}function Vl(t,e){return new t({type:"number",checks:[],...wt(e)})}function Ul(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...wt(e)})}function ql(t,e){return new t({type:"boolean",...wt(e)})}function Gl(t,e){return new Nl({check:"greater_than",...wt(e),value:t,inclusive:!0})}function wr(t){return Gl(0,t)}function Hl(t,e){return new Ml({check:"min_length",...wt(e),minimum:t})}const Kl=bl.bind({Error:Jt}),Wl=wl.bind({Error:Jt}),Yl=xl.bind({Error:Jt}),Jl=Sl.bind({Error:Jt}),Ft=B("ZodMiniType",(t,e)=>{if(!t._zod)throw new Error("Uninitialized schema in mixin ZodMiniType.");Mt.init(t,e),t.def=e,t.parse=(n,r)=>Kl(t,n,r),t.safeParse=(n,r)=>Wl(t,n,r),t.parseAsync=async(n,r)=>Yl(t,n,r),t.safeParseAsync=async(n,r)=>Jl(t,n,r),t.check=(...n)=>t.clone({...e,checks:[...e.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"}}}:r)]}),t.clone=n=>_l(t,n??e),t.brand=()=>t,t.register=(n,r)=>(n.add(t,r),t)}),Ql=B("ZodMiniString",(t,e)=>{Ol.init(t,e),Ft.init(t,e)});function re(t){return Zl(Ql,t)}const Xl=B("ZodMiniNumber",(t,e)=>{Io.init(t,e),Ft.init(t,e)});function Ut(t){return Vl(Xl,t)}const tf=B("ZodMiniNumberFormat",(t,e)=>{Pl.init(t,e),Ft.init(t,e)});function xr(t){return Ul(tf,t)}const ef=B("ZodMiniBoolean",(t,e)=>{Ll.init(t,e),Ft.init(t,e)});function yi(t){return ql(ef,t)}const nf=B("ZodMiniArray",(t,e)=>{Dl.init(t,e),Ft.init(t,e)});function Ce(t,e){return new nf({type:"array",element:t,...wt(e)})}const rf=B("ZodMiniObject",(t,e)=>{$l.init(t,e),Ft.init(t,e)});function jn(t,e){const n={type:"object",shape:t??{},get optional(){return ml(t??{})},...wt(e)};return new rf(n)}const of=B("ZodMiniTuple",(t,e)=>{Fl.init(t,e),Ft.init(t,e)});function sf(t,e,n){const r=e instanceof Mt,i=r?n:e,o=r?e:null;return new of({type:"tuple",items:t,rest:o,...wt(i)})}const af=B("ZodMiniEnum",(t,e)=>{jl.init(t,e),Ft.init(t,e)});function uf(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(r=>[r,r])):t;return new af({type:"enum",entries:n,...wt(e)})}const lf=B("ZodMiniLiteral",(t,e)=>{Bl.init(t,e),Ft.init(t,e)});function ff(t,e){return new lf({type:"literal",values:Array.isArray(t)?t:[t],...wt(e)})}const cf=sf([re(),re(),uf(["L","R","N"])]),df=jn({Source:Ut().check(xr(),wr()),Target:Ut().check(xr(),wr()),x:Ut(),y:Ut(),Labels:Ce(cf)}),hf=jn({ID:Ut().check(xr(),wr()),Name:re(),x:Ut(),y:Ut(),Final:yi(),Start:yi(),Radius:Ut(),Transitions:Ce(df)}),vf=jn({Alphabet:Ce(re()),StackAlphabet:Ce(re()).check(Hl(1)),States:Ce(hf)}),gf=jn({name:re(),description:re(),type:ff("TM"),automaton:vf});function _f(t){return gf.safeParse(t).success}function mf(t){t=xf(t);const e=yf(t);t=bf(t,e);const n=[],r=wf(t.automaton.StackAlphabet);for(const o of t.automaton.States)for(const u of o.Transitions)for(const a of u.Labels){const s=r.indexOf(a[0])+1,l=r.indexOf(a[1])+1,f={L:1,R:2,N:void 0}[a[2]];if(s===void 0||l===void 0||f===void 0)throw new Error("Invalid label");const d=[u.Source,s,u.Target,l,f].map(pf).join("1");n.push(d)}const i="1"+n.join("11");return BigInt("0b"+i+"111")}function pf(t){return"0".repeat(t)}function yf(t){const e=new Map,n=t.automaton.States.find(o=>o.Start),r=t.automaton.States.find(o=>o.Final),i=t.automaton.States.filter(o=>!o.Start&&!o.Final);if(!n)throw new Error("No starting state found");if(!r)throw new Error("No accepting state found");e.set(n.ID,1),e.set(r.ID,2);for(const o of i)e.set(o.ID,e.size+1);return e}function bf(t,e){const n=structuredClone(t);for(const r of n.automaton.States){r.ID=e.get(r.ID)||-1,r.Name=`q${r.ID}`;for(const i of r.Transitions)i.Source=e.get(i.Source)||-1,i.Target=e.get(i.Target)||-1}return n}function wf(t){if(t.length<1)return t;const n=["0","1",t[0]];for(const r of t)n.includes(r)||n.push(r);return n}function xf(t){const e=structuredClone(t);if(t.automaton.States.filter(o=>o.Final).length<2)return t;const r=Math.max(...e.automaton.States.map(o=>o.ID)),i={ID:r+1,Name:`q${r+1}`,x:0,y:0,Start:!1,Final:!0,Radius:30,Transitions:[]};for(const o of e.automaton.States){if(!o.Final)continue;const u=new Set;for(const s of o.Transitions)for(const l of s.Labels)u.add(l[0]);const a=e.automaton.StackAlphabet.filter(s=>!u.has(s));o.Transitions.push({Source:o.ID,Target:i.ID,x:0,y:0,Labels:a.map(s=>[s,s,"R"])}),o.Final=!1}return e.automaton.States.push(i),e}var Sf=W('<svg><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9.879 7.519c1.172-1.025 3.071-1.025 4.243 0c1.171 1.025 1.171 2.687 0 3.712q-.308.268-.67.442c-.746.361-1.452.999-1.452 1.827v.75M21 12a9 9 0 1 1-18 0a9 9 0 0 1 18 0m-9 5.25h.008v.008H12z"></path></svg>');function Ef(t,e){const n=Yt(e,["$$slots","$$events","$$legacy"]);var r=Sf();let i;Z(()=>i=Wt(r,i,{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...n})),k(t,r)}var If=G('<section class="w-full h-140"><!></section>'),Tf=G('<div class="w-full mb-8"><!></div> <div><!> <!></div>',1),Af=G('<div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pt-8 md:pt-16"><section class="mx-auto max-w-3xl"><h1 class="text-2xl md:text-4xl font-bold mb-6 md:mb-10">Universal Turing Machine Simulator</h1> <div class="pb-5"><h3 class="text-base font-semibold text-gray-900">Enter a Description Number <a href="https://en.wikipedia.org/wiki/Description_number" class="text-sm text-indigo-600" title="Learn more about description numbers"><!></a></h3> <p class="mt-2 max-w-4xl text-sm text-gray-500">Or drop a file. The Input should be entered after <code>111</code></p></div> <section class="mb-4"><!></section></section></div> <!> <!>',1);function zf(t,e){ft(e,!0);let n=D(null);Ln(()=>{const S=new URLSearchParams(window.location.search).get("goedel");if(!S)return;const E=fr(S,16);E.success&&A(n,E.result.goedel,!0)});let r=M(()=>g(n)==null?null:uo(g(n)).result),i=D(null);Gt(()=>{A(i,g(r)==null?null:mr(g(r)),!0)}),Gt(()=>{if(g(r))window.history.pushState(null,"",`?goedel=${g(r).goedel.toString(16)}`);else{const m=new URL(window.location.href);m.searchParams.delete("goedel"),window.history.pushState(null,"",m.href)}});function o(m){m.type==="text/plain"?u(m):a(m)}function u(m){const S=new FileReader;S.onload=()=>{const E=S.result;if(typeof E!="string"){alert("Could not read text file");return}const w=lo(E),I=fr(w,2);I.success?A(n,I.result.goedel,!0):alert(I.error)},S.readAsText(m)}function a(m){const S=new FileReader;S.onload=()=>{const E=S.result;if(typeof E!="string"){alert("Could not read JSON file");return}let w;try{w=JSON.parse(E)}catch(C){console.error(C),alert("Could not parse JSON file");return}if(_f(w))A(n,mf(w),!0);else{alert("JSON file does not contain a valid Flaci Turing Machine definition");return}},S.readAsText(m)}var s=Af(),l=qt(s),f=z(l),d=O(z(f),2),c=z(d),v=O(z(c)),p=z(v);Ef(p,{class:"inline"});var _=O(d,2),h=z(_);Ca(h,{onFileUpload:o,get value(){return g(n)},set value(m){A(n,m,!0)}});var y=O(l,2);{var b=m=>{var S=Tf(),E=qt(S),w=z(E);to(w,()=>g(i).tm.goedel_without_input,j=>{var H=If(),rt=z(H);const Y=M(()=>g(i)?g(i).current_state:void 0);Ou(rt,{get tm(){return g(i).tm},get highlighted_state(){return g(Y)}}),zt(5,H,()=>cr,()=>({duration:1500,opacity:0,y:200,delay:200})),k(j,H)});var I=O(E,2),C=z(I);al(C,{get configuration(){return g(i)},set configuration(j){A(i,j,!0)}});var N=O(C,2);Du(N),zt(1,I,()=>ma,()=>({duration:500,delay:500})),k(m,S)};yt(y,m=>{g(i)&&m(b)})}var x=O(y,2);ll(x,{allow:["text/plain","application/json"],onFileDrop:o}),k(t,s),ct()}$s(zf,{target:document.getElementById("app")});
